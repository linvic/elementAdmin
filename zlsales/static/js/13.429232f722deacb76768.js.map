{"version":3,"sources":["webpack:///src/pages/CRM/Chance/ChanceEdit.vue","webpack:///./src/pages/CRM/Chance/ChanceEdit.vue?3933","webpack:///./src/pages/CRM/Chance/ChanceEdit.vue","webpack:///src/pages/CRM/Chance/Lists.vue","webpack:///./src/pages/CRM/Chance/Lists.vue?ed1a","webpack:///./src/pages/CRM/Chance/Lists.vue"],"names":["ChanceEdit","ContactsAdd","PhotosUploader","PhotoUploader","required","message","trigger","type","Number","this","getDic","then","$https","spread","acct","perms","getOldData","getContactsList","val","id","ContactsList","data","form","_this6","code","result","Chance_ChanceEdit","render","_vm","_h","$createElement","_c","_self","ref","attrs","rules","form_rules","model","label-width","size","span","label","prop","value","callback","$$v","$set","expression","_v","placeholder","_l","item","key","value_id","String","name","_s","value_name","staticStyle","width","nativeOn","keyup","$event","onkeyupPrice","disabled","undefined","customer_type","staticClass","limit","files","person_identification_image","on","update:files","_e","blur","existCompany","company_logo","company_identification_image","rows","tag","index","closable","disable-transitions","close","closeTag","linkman_name","icon","plain","click","dialogContactsAdd","submit","closeDialog","title","visible","append-to-body","update:visible","closeThisDialog","parentSetContactsList","setContactsList","staticRenderFns","CRM_Chance_ChanceEdit","__webpack_require__","normalizeComponent","ssrContext","Lists","FollowUp","Details","getRoleunitUsers","getDataList","_ref","valItem","_step","c_id","user_id","_step2","text","keyItem","_step3","_step4","selectionChecked","enterprise_name","customer_name","telephone","theme","_iteratorNormalCompletion5","_step5","user_name","_item","pageIndex","pageSize","classification","Items","Total","Chance_Lists","slot","float","onclick","inline","formFilter","formFilterSubmit","crmDel","margin-left","vertical-align","directives","rawName","tableData","selection-change","handleSelectionChange","scopedSlots","_u","fn","scope","href","openDetails","row","getDicVals","chanceEdit","purchase_intention","current-page","page-sizes","page-size","layout","total","dataTotal","size-change","pageSizeChange","current-change","pageIndexChange","dialogChanceEdit","editId","parentGetDataList","dialogFollowUp","followData","FollowUpObj","isIntention","dialogDetails","Lists_Component","Lists_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/13.429232f722deacb76768.js","sourcesContent":["<template>\r\n    <div>\r\n        <el-form ref=\"form\" :rules=\"form_rules\" :model=\"form\" label-width=\"130px\" size=\"small\">\r\n            <el-row>\r\n                <el-col :span=\"24\">\r\n                    <el-form-item label=\"客户主体类别\" prop=\"customer_type\">\r\n                        <el-radio-group v-model=\"form.customer_type\">\r\n                            <el-radio :label=\"1\">个人</el-radio>\r\n                            <el-radio :label=\"2\">企业</el-radio>\r\n                        </el-radio-group>\r\n                    </el-form-item>\r\n                </el-col>\r\n            </el-row>\r\n            <el-row>\r\n                <el-col :span=\"24\">\r\n                    <el-form-item label=\"线索名称/主题\" prop=\"theme\">\r\n                        <el-input v-model=\"form.theme\" placeholder=\"请输入\"></el-input>\r\n                    </el-form-item>\r\n                </el-col>\r\n            </el-row>\r\n            <el-row>\r\n                <el-col :span=\"24\">\r\n                    <el-form-item label=\"线索分类\" prop=\"classification\">\r\n                        <el-checkbox-group v-model=\"form.classification\">\r\n                            <el-checkbox v-for=\"item in classification\" :key=\"item.value_id\" :label=\"String(item.value_id)\" name=\"type\">{{item.value_name}}</el-checkbox>\r\n                        </el-checkbox-group>\r\n                    </el-form-item>\r\n                </el-col>\r\n            </el-row>\r\n            <el-row>\r\n                <el-col :span=\"24\">\r\n                    <el-form-item label=\"线索来源\" prop=\"customer_source\">\r\n                        <el-radio-group v-model=\"form.customer_source\">\r\n                            <el-radio v-for=\"item in customer_source\" :key=\"item.value_id\" :label=\"String(item.value_id)\">{{item.value_name}}</el-radio>\r\n                        </el-radio-group>\r\n                    </el-form-item>\r\n                </el-col>\r\n            </el-row>\r\n            <el-row>\r\n                <el-col :span=\"24\">\r\n                    <el-form-item label=\"购买意向\" prop=\"purchase_intention\">\r\n                        <el-radio-group v-model=\"form.purchase_intention\">\r\n                            <el-radio v-for=\"item in purchase_intention\" :key=\"item.value_id\" :label=\"String(item.value_id)\">{{item.value_name}}</el-radio>\r\n                        </el-radio-group>\r\n                    </el-form-item>\r\n                </el-col>\r\n            </el-row>\r\n            <el-row>\r\n                <el-col :span=\"12\">\r\n                    <el-form-item label=\"意向面积\">\r\n                        <el-input v-model=\"form.intentional_area\" @keyup.native=\"onkeyupPrice($event)\" placeholder=\"数字，小数点两位，单位平方米\" type=\"number\" style=\"width: 150px\"></el-input> 平米\r\n                    </el-form-item>\r\n                </el-col>\r\n            </el-row>\r\n            <el-row>\r\n                <el-col :span=\"12\">\r\n                    <el-form-item label=\"客户姓名\" prop=\"customer_name\">\r\n                        <el-input v-model=\"form.customer_name\" placeholder=\"请输入\"></el-input>\r\n                    </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"12\">\r\n                    <el-form-item label=\"客户联系电话\" prop=\"telephone\">\r\n                        <el-input v-model=\"form.telephone\" placeholder=\"请输入\" :disabled=\"id !== undefined\"></el-input>\r\n                    </el-form-item>\r\n                </el-col>\r\n            </el-row>\r\n            <div v-if=\"form.customer_type == 1\">\r\n                <el-row>\r\n                    <el-col :span=\"12\">\r\n                        <el-form-item label=\"性别\">\r\n                            <el-radio-group v-model=\"form.sex\">\r\n                                <el-radio label=\"1\">男</el-radio>\r\n                                <el-radio label=\"0\">女</el-radio>\r\n                            </el-radio-group>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                    <el-col :span=\"12\">\r\n                        <el-form-item label=\"籍贯\">\r\n                            <el-input v-model=\"form.native_place\" placeholder=\"请输入\"></el-input>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                </el-row>\r\n                <el-row>\r\n                    <el-col :span=\"12\">\r\n                        <el-form-item label=\"电子邮箱\">\r\n                            <el-input v-model=\"form.company_email\" placeholder=\"请输入\"></el-input>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                    <el-col :span=\"12\">\r\n                        <el-form-item label=\"职务\">\r\n                            <el-input v-model=\"form.job\" placeholder=\"请输入\"></el-input>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                </el-row>\r\n                <el-row>\r\n                    <el-col :span=\"12\">\r\n                        <el-form-item label=\"个人证件类型\">\r\n                            <el-select v-model=\"form.person_identification_type\">\r\n                                <el-option v-for=\"item in identification_type\" :key=\"item.value_id\" :label=\"item.value_name\" :value=\"String(item.value_id)\">{{item.value_name}}</el-option>\r\n                            </el-select>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                    <el-col :span=\"12\">\r\n                        <el-form-item label=\"个人证件号码\" prop=\"person_identification_number\">\r\n                            <el-input v-model=\"form.person_identification_number\" placeholder=\"请输入\"></el-input>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                </el-row>\r\n                <el-row>\r\n                    <el-col :span=\"24\">\r\n                        <el-form-item label=\"个人证件图片\">\r\n                            <PhotosUploader\r\n                                class=\"avatar-uploader\"\r\n                                :limit=\"9\"\r\n                                :files.sync=\"form.person_identification_image\">\r\n                            </PhotosUploader>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                </el-row>\r\n                <el-row>\r\n                    <el-col :span=\"24\">\r\n                        <el-form-item label=\"通讯地址\">\r\n                            <el-input v-model=\"form.communication_address\" placeholder=\"请输入\"></el-input>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                </el-row>\r\n            </div>\r\n            <div v-if=\"form.customer_type == 2\">\r\n                <el-row>\r\n                    <el-col :span=\"12\">\r\n                        <el-form-item label=\"企业名称\" prop=\"enterprise_name\">\r\n                            <el-input v-model=\"form.enterprise_name\" placeholder=\"请输入\" @blur=\"existCompany()\"></el-input>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                    <el-col :span=\"12\">\r\n                        <el-form-item label=\"企业Logo\">\r\n                            <PhotoUploader\r\n                                :files.sync=\"form.company_logo\">\r\n                            </PhotoUploader>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                </el-row>\r\n                <el-row>\r\n                    <el-col :span=\"12\">\r\n                        <el-form-item label=\"企业证件类型\">\r\n                            <el-select v-model=\"form.company_identification_type\">\r\n                                <el-option v-for=\"item in company_card_type\" :key=\"item.value_id\" :label=\"item.value_name\" :value=\"String(item.value_id)\">{{item.value_name}}</el-option>\r\n                            </el-select>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                    <el-col :span=\"12\">\r\n                        <el-form-item label=\"企业证件号码\">\r\n                            <el-input v-model=\"form.company_identification_number\" placeholder=\"请输入\"></el-input>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                </el-row>\r\n                <el-row>\r\n                    <el-col :span=\"24\">\r\n                        <el-form-item label=\"企业证件图片\">\r\n                            <PhotosUploader\r\n                                class=\"avatar-uploader\"\r\n                                :limit=\"9\"\r\n                                :files.sync=\"form.company_identification_image\">\r\n                            </PhotosUploader>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                </el-row>\r\n                <el-row>\r\n                    <el-col :span=\"12\">\r\n                        <el-form-item label=\"企业法人\">\r\n                            <el-input v-model=\"form.company_corporate\" placeholder=\"请输入\"></el-input>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                    <el-col :span=\"12\">\r\n                        <el-form-item label=\"企业行业类别\">\r\n                            <el-select v-model=\"form.company_industry_type\">\r\n                                <el-option v-for=\"item in company_industry\" :key=\"item.value_id\" :label=\"item.value_name\" :value=\"String(item.value_id)\">{{item.value_name}}</el-option>\r\n                            </el-select>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                </el-row>\r\n                <el-row>\r\n                    <el-col :span=\"12\">\r\n                        <el-form-item label=\"企业类型\">\r\n                            <el-select v-model=\"form.company_type\">\r\n                                <el-option v-for=\"item in company_type\" :key=\"item.value_id\" :label=\"item.value_name\" :value=\"String(item.value_id)\">{{item.value_name}}</el-option>\r\n                            </el-select>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                    <el-col :span=\"12\">\r\n                        <el-form-item label=\"企业注册资金\">\r\n                            <el-input v-model=\"form.company_registered_capital\" placeholder=\"请输入\"></el-input>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                </el-row>\r\n                <el-row>\r\n                    <el-col :span=\"12\">\r\n                        <el-form-item label=\"主营产品\">\r\n                            <el-input v-model=\"form.company_main_product\" placeholder=\"请输入\"></el-input>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                    <el-col :span=\"12\">\r\n                        <el-form-item label=\"企业员工人数(人)\">\r\n                            <el-select v-model=\"form.company_employees_number\">\r\n                                <el-option v-for=\"item in company_employees\" :key=\"item.value_id\" :label=\"item.value_name\" :value=\"item.value_id\">{{item.value_name}}</el-option>\r\n                            </el-select>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                </el-row>\r\n                <el-row>\r\n                    <el-col :span=\"24\">\r\n                        <el-form-item label=\"企业注册地址\">\r\n                            <el-input v-model=\"form.company_registered_address\" placeholder=\"请输入\"></el-input>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                </el-row>\r\n                <el-row>\r\n                    <el-col :span=\"24\">\r\n                        <el-form-item label=\"经营范围\">\r\n                            <el-input type=\"textarea\" v-model=\"form.company_scope_of_operation\" :rows=\"3\" placeholder=\"请输入\"></el-input>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                </el-row>\r\n            </div>\r\n            <el-form-item label=\"联系人\">\r\n                <el-tag\r\n                    :key=\"index\"\r\n                    type=\"success\"\r\n                    v-for=\"(tag, index) in ContactsList\"\r\n                    closable\r\n                    :disable-transitions=\"false\"\r\n                    @close=\"closeTag(tag, index)\">\r\n                    {{tag.linkman_name}}\r\n                </el-tag>\r\n                <el-button type=\"primary\" @click=\"dialogContactsAdd = true\" icon=\"el-icon-web-add\" plain>新增联系人</el-button>\r\n            </el-form-item>\r\n\r\n            <el-form-item>\r\n                <el-button type=\"primary\" @click=\"submit()\">保存</el-button>\r\n                <el-button @click=\"closeDialog()\">取消</el-button>\r\n            </el-form-item>\r\n        </el-form>\r\n\r\n        <el-dialog v-if=\"dialogContactsAdd\" title=\"新增联系人\" :visible.sync=\"dialogContactsAdd\" append-to-body width=\"500px\">\r\n            <ContactsAdd @closeThisDialog=\"closeThisDialog\" @parentSetContactsList=\"setContactsList\"></ContactsAdd>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport ContactsAdd from './../ContactsAdd'\r\nimport PhotosUploader from '@/components/uploader/PhotosUploader'\r\nimport PhotoUploader from '@/components/uploader/PhotoUploader'\r\nexport default {\r\n    components: {\r\n        ContactsAdd,\r\n        PhotosUploader,\r\n        PhotoUploader\r\n    },\r\n    data () {\r\n        \r\n        return {\r\n            form: {\r\n                theme: '', // 主题\r\n                classification: [], // 线索分类\r\n                customer_source: '', // 线索来源\r\n                purchase_intention: '', // 购买意向\r\n                intentional_area: '', // 意向面积\r\n                customer_name: '', // 客户姓名\r\n                telephone: '', // 客户联系电话\r\n                customer_type: 1, // 客户主体类别(1:个人2:企业)\r\n\r\n                sex: '1', // 性别 1男 0女\r\n                native_place: '', //籍贯\r\n                company_email: '', // 电子邮箱\r\n                job: '', // 职务\r\n                person_identification_type: '', // 个人证件类型\r\n                person_identification_number: '', // 个人证件号码\r\n                person_identification_image: [], // 个人证件图片\r\n                communication_address: '', // 通讯地址\r\n\r\n                enterprise_name: '', // 企业名称\r\n                company_logo: '', // 企业logo\r\n                company_identification_type: '', // 企业证件类型\r\n                company_identification_number: '', // 企业证件号码\r\n                company_identification_image: [], // 企业证件图片\r\n                company_corporate: '', // 企业法人\r\n                company_industry_type: '', // 企业行业类型\r\n                company_registered_capital: '', // 企业注册资金\r\n                company_registered_address: '', // 企业注册地址\r\n                company_type: '', // 企业类型\r\n                company_main_product: '', // 主营产品\r\n                company_employees_number: '', // 企业员工人数\r\n                company_scope_of_operation: '', // 经营范围\r\n            },\r\n\r\n            form_rules: {\r\n                theme: [\r\n                    { required: true, message: '线索主题不能为空', trigger: 'blur'}\r\n                ],\r\n                classification: [\r\n                    {type: 'array', required: true, message: '请至少选择一个分类', trigger: 'change'}\r\n                ],\r\n                customer_source: [\r\n                    { required: true, message: '请选择线索来源', trigger: 'change'}\r\n                ],\r\n                purchase_intention: [\r\n                    { required: true, message: '请选择购买意向', trigger: 'change'}\r\n                ],\r\n                customer_name: [\r\n                    { required: true, message: '客户姓名不能为空', trigger: 'blur'}\r\n                ],\r\n                telephone: [\r\n                    { required: true, message: '联系电话不能为空', trigger: 'blur'}\r\n                ],\r\n                customer_type: [\r\n                    { required: true, message: '请选择客户类别', trigger: 'change'}\r\n                ]\r\n            },\r\n            dialogContactsAdd: false, // 新增联系人页面\r\n            ContactsList: [], // 已增联系人\r\n            classification: [], // 字典 - 线索分类\r\n            customer_source: [], // 字典 - 线索来源\r\n            identification_type: [], // 字典 - 个人证件类型\r\n            company_card_type: [], // 字典 - 企业证件类型\r\n            company_industry: [], // 字典 - 企业行业类型\r\n            company_type: [], // 字典 - 企业类型\r\n            company_employees: [], // 字典 - 企业员工人数类型\r\n            purchase_intention: [] // 字典 - 购买意向\r\n        }\r\n    },\r\n    props: {\r\n        id: {\r\n            type: Number\r\n        }\r\n    },\r\n    created() {\r\n        let _this = this;\r\n        this.$https.all([\r\n            this.getDic('crm_classification', 'classification'),\r\n            this.getDic('crm_customer_source', 'customer_source'),\r\n            this.getDic('contact_card_type', 'identification_type'),\r\n            this.getDic('company_card_type', 'company_card_type'),\r\n            this.getDic('company_industry', 'company_industry'),\r\n            this.getDic('company_type', 'company_type'),\r\n            this.getDic('company_employees', 'company_employees'),\r\n            this.getDic('crm_purchase_intention', 'purchase_intention')\r\n        ]).then(this.$https.spread(function (acct, perms) {\r\n            if (_this.id) { // 编辑\r\n                _this.getOldData();\r\n                _this.getContactsList();\r\n            }\r\n        }))\r\n    },\r\n    methods: {\r\n        setContactsList(val) { // 接收子组件新增的数据\r\n            let contactsItem = JSON.parse(val);\r\n            if (this.id) { // 编辑状态下需要单独新增\r\n                contactsItem.c_id = this.id;\r\n                this.$https.post('/api/customer_linkman/create_customer_linkman', contactsItem).then((result) => {\r\n                    if (result.data.code == 0) {\r\n                        this.getContactsList();\r\n                    } else {\r\n                        this.$message({\r\n                            type: 'error',\r\n                            showClose: true,\r\n                            message: result.data.message\r\n                        })\r\n                    }\r\n                })\r\n                \r\n            } else {\r\n\r\n                this.ContactsList.push(contactsItem); // 新增联系人到数组\r\n\r\n            }\r\n            console.log('联系人',this.ContactsList);\r\n        },\r\n        closeTag(item, i) { // 删除已加联系人标签\r\n\r\n            if (this.id) { // 编辑模式下删除需调用删除接口\r\n                \r\n                this.$https.get('/api/customer_linkman/delete_customer_linkman?cl_id=' + item.cl_id +'&c_id=' + this.id ).then((result) => {\r\n                    if (result.data.code == 0) {\r\n                        this.$message({\r\n                            type: 'success',\r\n                            showClose: true,\r\n                            message: '联系人删除成功',\r\n                            duration: 1000,\r\n                            onClose: () => {\r\n                                this.getContactsList();\r\n                            }\r\n                        })\r\n                    } else {\r\n                        this.$message({\r\n                            type: 'error',\r\n                            showClose: true,\r\n                            message: result.data.message\r\n                        })\r\n                    }\r\n                })\r\n            } else {\r\n                this.ContactsList.splice(i, 1); // 删除联系人到数组\r\n            }\r\n        },\r\n        closeThisDialog(name) { // 关闭弹层\r\n            this[name] = false;\r\n        },\r\n        getOldData() { // 获取编辑数据\r\n\r\n            this.$https.get('/api/Customer/get_customerdetails?c_id=' + this.id).then((result) => {\r\n                if (result.data.code == 0) {\r\n                    let _data = result.data.data;\r\n\r\n                    this.form.customer_type = Number(_data.customer_type); // 客户类别\r\n                    this.form.theme = _data.theme; // 主题\r\n                    this.form.classification = _data.classification.split(',');// 线索分类\r\n                    this.form.customer_source = _data.customer_source; // 线索来源\r\n                    this.form.purchase_intention = _data.purchase_intention; // 购买意向\r\n                    this.form.intentional_area = _data.intentional_area == 0 ? '' : _data.intentional_area; // 意向面积\r\n                    this.form.enterprise_name = _data.enterprise_name; // 企业名称\r\n                    this.form.customer_name = _data.customer_name; // 客户姓名\r\n                    this.form.telephone = _data.telephone; // 客户联系电话\r\n                    this.form.sex = _data.sex.toString(); // 性别 1男 0女\r\n                    this.form.native_place = _data.native_place; // 籍贯\r\n                    this.form.company_email = _data.company_email; // 电子邮箱\r\n                    this.form.job = _data.job; // 职务\r\n                    this.form.person_identification_type = _data.person_identification_type == 0 ? '' : _data.person_identification_type; // 个人证件类型\r\n                    this.form.person_identification_number = _data.person_identification_number; // 个人证件号码\r\n                    if(_data.person_identification_image) {\r\n                        this.form.person_identification_image = _data.person_identification_image.split(',');// 个人证件图\r\n                    }\r\n                    \r\n                    \r\n                    this.form.company_logo = _data.company_logo; // 企业logo\r\n                    this.form.company_identification_type = _data.company_identification_type == 0 ? '' : _data.company_identification_type; // 企业证件类型\r\n\r\n                    this.form.company_industry_type = _data.company_industry_type == 0 ? '' : _data.company_industry_type; // 企业行业类别\r\n                    this.form.company_type = _data.company_type == 0 ? '' : _data.company_type; // 企业类别\r\n                    this.form.company_employees_number = _data.company_employees_number == 0 ? '' : _data.company_employees_number; // 企业员工人数\r\n                    \r\n                    this.form.company_identification_number = _data.company_identification_number; // 企业证件号码\r\n                    if(_data.company_identification_image) {\r\n                        this.form.company_identification_image = _data.company_identification_image.split(',');// 企业证件图\r\n                    }\r\n                    this.form.communication_address = _data.communication_address; // 通讯地址\r\n\r\n                    this.form.company_corporate = _data.company_corporate; // 企业法人\r\n                    this.form.company_registered_capital = _data.company_registered_capital; // 企业注册资金\r\n                    this.form.company_registered_address = _data.company_registered_address; // 企业注册地址\r\n                    this.form.company_main_product = _data.company_main_product; // 主营产品\r\n                    this.form.company_scope_of_operation = _data.company_scope_of_operation; // 经营范围\r\n                    \r\n                    console.log(this.form);\r\n                } else {\r\n                    this.$message({\r\n                        type: 'error',\r\n                        showClose: true,\r\n                        message: result.data.message\r\n                    })\r\n                }\r\n            })\r\n        },\r\n        getContactsList() { // 获取联系人列表\r\n\r\n            this.$https.get('/api/customer_linkman/list_customer_linkman?c_id=' + this.id).then((result) => {\r\n                if (result.data.code == 0) {\r\n                    this.ContactsList = result.data.data;\r\n                } else {\r\n                    this.$message({\r\n                        type: 'error',\r\n                        showClose: true,\r\n                        message: result.data.message\r\n                    })\r\n                }\r\n            })\r\n        },\r\n        existCompany() {\r\n            this.$https.get('/api/Customer/exist_by_enterprise_name?enterprise_name=' + this.form.enterprise_name ).then((result) => {\r\n                if (result.data.code == 0) {\r\n                    this.$alert('此公司名称已存在，如有需要可向总监申请仲裁', '提醒', {\r\n                        confirmButtonText: '知道了'\r\n                    });\r\n                }\r\n            })\r\n        },\r\n        submit() { // 提交\r\n            this.$refs.form.validate((valid) => {\r\n                if (valid) {\r\n\r\n                    let _postData = {\r\n                        customer_type: this.form.customer_type, // 客户主体类别\r\n                        theme: this.form.theme, // 主题\r\n                        classification: this.form.classification.join(','), // 线索分类\r\n                        customer_source: this.form.customer_source, // 线索来源\r\n                        purchase_intention: this.form.purchase_intention, // 购买意向\r\n                        intentional_area: this.form.intentional_area == '' ? 0 : this.form.intentional_area, // 意向面积\r\n                        customer_name: this.form.customer_name, // 客户姓名\r\n                        telephone: this.form.telephone // 客户电话\r\n                    }\r\n                    if (_postData.customer_type == 1) { // 个人\r\n                        \r\n                        if (this.form.person_identification_type == '') {\r\n                            this.$message({\r\n                                type: 'error',\r\n                                showClose: true,\r\n                                message: '请选择个人证件类型'\r\n                            })\r\n                            return;\r\n                            console.log('请选择个人证件类型')\r\n                        }\r\n                        if (this.form.person_identification_number == '') {\r\n                            this.$message({\r\n                                type: 'error',\r\n                                showClose: true,\r\n                                message: '请填写个人证件号码'\r\n                            })\r\n                            return;\r\n                        }\r\n                        _postData.sex = this.form.sex; // 性别 1男 0女\r\n                        _postData.native_place = this.form.native_place; //籍贯\r\n                        _postData.company_email = this.form.company_email; // 电子邮箱\r\n                        _postData.job = this.form.job; // 职务\r\n                        _postData.person_identification_type = this.form.person_identification_type == '' ? 0 : this.form.person_identification_type; // 个人证件类型\r\n                        _postData.person_identification_number = this.form.person_identification_number; // 个人证件号码\r\n                        _postData.person_identification_image = this.form.person_identification_image.join(','); // 个人证件图片\r\n                        _postData.communication_address = this.form.communication_address; // 通讯地址\r\n                    } else { // 企业\r\n                        if (this.form.enterprise_name == '') {\r\n                            this.$message({\r\n                                type: 'error',\r\n                                showClose: true,\r\n                                message: '请填写企业名称'\r\n                            })\r\n                            return;\r\n                        }\r\n                        if (this.form.company_identification_type == '') {\r\n                            this.$message({\r\n                                type: 'error',\r\n                                showClose: true,\r\n                                message: '请选择企业证件类型'\r\n                            })\r\n                            return;\r\n                        }\r\n                        if (this.form.company_identification_number == '') {\r\n                            this.$message({\r\n                                type: 'error',\r\n                                showClose: true,\r\n                                message: '请填写企业证件号码'\r\n                            })\r\n                            return;\r\n                        }\r\n                        _postData.enterprise_name = this.form.enterprise_name; // 企业名称\r\n                        _postData.company_logo = this.form.company_logo; // 企业logo\r\n                        _postData.company_identification_type = this.form.company_identification_type; // 企业证件类型\r\n                        _postData.company_identification_number = this.form.company_identification_number; // 企业证件号码\r\n                        _postData.company_identification_image = this.form.company_identification_image.join(','); // 企业证件图片\r\n                        _postData.company_corporate = this.form.company_corporate; // 企业法人\r\n                        _postData.company_industry_type = this.form.company_industry_type == '' ? 0 : this.form.company_industry_type; // 企业行业类型\r\n                        _postData.company_registered_capital = this.form.company_registered_capital; // 企业注册资金\r\n                        _postData.company_registered_address = this.form.company_registered_address; // 企业注册地址\r\n                        _postData.company_type = this.form.company_type == '' ? 0 : this.form.company_type; // 企业类型\r\n                        _postData.company_main_product = this.form.company_main_product; // 主营产品\r\n                        _postData.company_employees_number = this.form.company_employees_number == '' ? 0 : this.form.company_employees_number; // 企业员工人数\r\n                        _postData.company_scope_of_operation = this.form.company_scope_of_operation; // 经营范围\r\n\r\n                    }\r\n\r\n                    if (this.id) { // 编辑\r\n                        _postData.c_id = parseInt(this.id);\r\n                        this.$https.post('/api/Customer/update_customer_chance', _postData).then((result) => {\r\n                            if (result.data.code == 0) {\r\n                                this.$message({\r\n                                    type: 'success',\r\n                                    showClose: true,\r\n                                    message: '编辑成功',\r\n                                    duration: 1500,\r\n                                    onClose: () => {\r\n                                        // 关闭当前dialog，\r\n                                        this.closeDialog('dialogChanceEdit');\r\n                                        // 刷新列表\r\n                                        this.$emit('parentGetDataList');\r\n                                    }\r\n                                })\r\n                            } else {\r\n                                this.$message({\r\n                                    type: 'error',\r\n                                    showClose: true,\r\n                                    message: result.data.message\r\n                                })\r\n                            }\r\n                        })\r\n                    } else {\r\n\r\n                    }\r\n\r\n                } else {\r\n                    console.error('验证失败');\r\n                    return false;\r\n                }\r\n            });\r\n        },\r\n        getDic(code, dic) { // 根据关键字获取字典值并保存 相应字段\r\n            this.$https.get('/api/Dicts/GetValues', {\r\n                params: {\r\n                    type_code: code\r\n                }\r\n            }).then((result) => {\r\n                if (result.data.code == 0) {\r\n                    this[dic] = result.data.data;\r\n                } else {\r\n                    this.$message({\r\n                        type: 'error',\r\n                        showClose: true,\r\n                        message: result.data.message\r\n                    })\r\n                }\r\n            })\r\n        },\r\n        closeDialog(name) { // 关闭当前\r\n            // this.$refs.form.resetFields(); // 重置表单\r\n            if (!name) {\r\n                this.$emit('closeDialog', 'dialogChanceEdit'); // 执行父组件关闭方法\r\n            } else {\r\n                this.$emit('closeDialog', name); // 执行父组件关闭方法\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n    .el-tag {\r\n        margin-right: 10px;\r\n    }\r\n\r\n    .avatar-uploader {\r\n        display: block;\r\n    }\r\n    .avatar-uploader /deep/ .el-upload {\r\n        width: 120px;\r\n        height: 120px;\r\n        line-height: 120px;\r\n    }\r\n    .avatar-uploader /deep/ .el-upload-list__item {\r\n        width: 120px;\r\n        height: 120px;\r\n    }\r\n    .avatar-uploader /deep/ .el-progress,.avatar-uploader /deep/ .el-progress-circle {\r\n        width: 120px !important;\r\n        height: 120px !important;\r\n    }\r\n    /* el-progress--circle */\r\n    .table_title {\r\n        display: inline-block;\r\n        margin-top: 30px;\r\n        margin-bottom: 30px;\r\n        color: #666;\r\n        font-weight: normal;\r\n        padding-left: 5px;\r\n        border-left: 2px solid #4E97D9;\r\n        line-height: 1.2;\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/CRM/Chance/ChanceEdit.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form',{ref:\"form\",attrs:{\"rules\":_vm.form_rules,\"model\":_vm.form,\"label-width\":\"130px\",\"size\":\"small\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"客户主体类别\",\"prop\":\"customer_type\"}},[_c('el-radio-group',{model:{value:(_vm.form.customer_type),callback:function ($$v) {_vm.$set(_vm.form, \"customer_type\", $$v)},expression:\"form.customer_type\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"个人\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":2}},[_vm._v(\"企业\")])],1)],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"线索名称/主题\",\"prop\":\"theme\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.form.theme),callback:function ($$v) {_vm.$set(_vm.form, \"theme\", $$v)},expression:\"form.theme\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"线索分类\",\"prop\":\"classification\"}},[_c('el-checkbox-group',{model:{value:(_vm.form.classification),callback:function ($$v) {_vm.$set(_vm.form, \"classification\", $$v)},expression:\"form.classification\"}},_vm._l((_vm.classification),function(item){return _c('el-checkbox',{key:item.value_id,attrs:{\"label\":String(item.value_id),\"name\":\"type\"}},[_vm._v(_vm._s(item.value_name))])}))],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"线索来源\",\"prop\":\"customer_source\"}},[_c('el-radio-group',{model:{value:(_vm.form.customer_source),callback:function ($$v) {_vm.$set(_vm.form, \"customer_source\", $$v)},expression:\"form.customer_source\"}},_vm._l((_vm.customer_source),function(item){return _c('el-radio',{key:item.value_id,attrs:{\"label\":String(item.value_id)}},[_vm._v(_vm._s(item.value_name))])}))],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"购买意向\",\"prop\":\"purchase_intention\"}},[_c('el-radio-group',{model:{value:(_vm.form.purchase_intention),callback:function ($$v) {_vm.$set(_vm.form, \"purchase_intention\", $$v)},expression:\"form.purchase_intention\"}},_vm._l((_vm.purchase_intention),function(item){return _c('el-radio',{key:item.value_id,attrs:{\"label\":String(item.value_id)}},[_vm._v(_vm._s(item.value_name))])}))],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"意向面积\"}},[_c('el-input',{staticStyle:{\"width\":\"150px\"},attrs:{\"placeholder\":\"数字，小数点两位，单位平方米\",\"type\":\"number\"},nativeOn:{\"keyup\":function($event){_vm.onkeyupPrice($event)}},model:{value:(_vm.form.intentional_area),callback:function ($$v) {_vm.$set(_vm.form, \"intentional_area\", $$v)},expression:\"form.intentional_area\"}}),_vm._v(\" 平米\\n                \")],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"客户姓名\",\"prop\":\"customer_name\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.form.customer_name),callback:function ($$v) {_vm.$set(_vm.form, \"customer_name\", $$v)},expression:\"form.customer_name\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"客户联系电话\",\"prop\":\"telephone\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\",\"disabled\":_vm.id !== undefined},model:{value:(_vm.form.telephone),callback:function ($$v) {_vm.$set(_vm.form, \"telephone\", $$v)},expression:\"form.telephone\"}})],1)],1)],1),_vm._v(\" \"),(_vm.form.customer_type == 1)?_c('div',[_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"性别\"}},[_c('el-radio-group',{model:{value:(_vm.form.sex),callback:function ($$v) {_vm.$set(_vm.form, \"sex\", $$v)},expression:\"form.sex\"}},[_c('el-radio',{attrs:{\"label\":\"1\"}},[_vm._v(\"男\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"0\"}},[_vm._v(\"女\")])],1)],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"籍贯\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.form.native_place),callback:function ($$v) {_vm.$set(_vm.form, \"native_place\", $$v)},expression:\"form.native_place\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"电子邮箱\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.form.company_email),callback:function ($$v) {_vm.$set(_vm.form, \"company_email\", $$v)},expression:\"form.company_email\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"职务\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.form.job),callback:function ($$v) {_vm.$set(_vm.form, \"job\", $$v)},expression:\"form.job\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"个人证件类型\"}},[_c('el-select',{model:{value:(_vm.form.person_identification_type),callback:function ($$v) {_vm.$set(_vm.form, \"person_identification_type\", $$v)},expression:\"form.person_identification_type\"}},_vm._l((_vm.identification_type),function(item){return _c('el-option',{key:item.value_id,attrs:{\"label\":item.value_name,\"value\":String(item.value_id)}},[_vm._v(_vm._s(item.value_name))])}))],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"个人证件号码\",\"prop\":\"person_identification_number\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.form.person_identification_number),callback:function ($$v) {_vm.$set(_vm.form, \"person_identification_number\", $$v)},expression:\"form.person_identification_number\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"个人证件图片\"}},[_c('PhotosUploader',{staticClass:\"avatar-uploader\",attrs:{\"limit\":9,\"files\":_vm.form.person_identification_image},on:{\"update:files\":function($event){_vm.$set(_vm.form, \"person_identification_image\", $event)}}})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"通讯地址\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.form.communication_address),callback:function ($$v) {_vm.$set(_vm.form, \"communication_address\", $$v)},expression:\"form.communication_address\"}})],1)],1)],1)],1):_vm._e(),_vm._v(\" \"),(_vm.form.customer_type == 2)?_c('div',[_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"企业名称\",\"prop\":\"enterprise_name\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\"},on:{\"blur\":function($event){_vm.existCompany()}},model:{value:(_vm.form.enterprise_name),callback:function ($$v) {_vm.$set(_vm.form, \"enterprise_name\", $$v)},expression:\"form.enterprise_name\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"企业Logo\"}},[_c('PhotoUploader',{attrs:{\"files\":_vm.form.company_logo},on:{\"update:files\":function($event){_vm.$set(_vm.form, \"company_logo\", $event)}}})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"企业证件类型\"}},[_c('el-select',{model:{value:(_vm.form.company_identification_type),callback:function ($$v) {_vm.$set(_vm.form, \"company_identification_type\", $$v)},expression:\"form.company_identification_type\"}},_vm._l((_vm.company_card_type),function(item){return _c('el-option',{key:item.value_id,attrs:{\"label\":item.value_name,\"value\":String(item.value_id)}},[_vm._v(_vm._s(item.value_name))])}))],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"企业证件号码\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.form.company_identification_number),callback:function ($$v) {_vm.$set(_vm.form, \"company_identification_number\", $$v)},expression:\"form.company_identification_number\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"企业证件图片\"}},[_c('PhotosUploader',{staticClass:\"avatar-uploader\",attrs:{\"limit\":9,\"files\":_vm.form.company_identification_image},on:{\"update:files\":function($event){_vm.$set(_vm.form, \"company_identification_image\", $event)}}})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"企业法人\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.form.company_corporate),callback:function ($$v) {_vm.$set(_vm.form, \"company_corporate\", $$v)},expression:\"form.company_corporate\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"企业行业类别\"}},[_c('el-select',{model:{value:(_vm.form.company_industry_type),callback:function ($$v) {_vm.$set(_vm.form, \"company_industry_type\", $$v)},expression:\"form.company_industry_type\"}},_vm._l((_vm.company_industry),function(item){return _c('el-option',{key:item.value_id,attrs:{\"label\":item.value_name,\"value\":String(item.value_id)}},[_vm._v(_vm._s(item.value_name))])}))],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"企业类型\"}},[_c('el-select',{model:{value:(_vm.form.company_type),callback:function ($$v) {_vm.$set(_vm.form, \"company_type\", $$v)},expression:\"form.company_type\"}},_vm._l((_vm.company_type),function(item){return _c('el-option',{key:item.value_id,attrs:{\"label\":item.value_name,\"value\":String(item.value_id)}},[_vm._v(_vm._s(item.value_name))])}))],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"企业注册资金\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.form.company_registered_capital),callback:function ($$v) {_vm.$set(_vm.form, \"company_registered_capital\", $$v)},expression:\"form.company_registered_capital\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"主营产品\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.form.company_main_product),callback:function ($$v) {_vm.$set(_vm.form, \"company_main_product\", $$v)},expression:\"form.company_main_product\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"企业员工人数(人)\"}},[_c('el-select',{model:{value:(_vm.form.company_employees_number),callback:function ($$v) {_vm.$set(_vm.form, \"company_employees_number\", $$v)},expression:\"form.company_employees_number\"}},_vm._l((_vm.company_employees),function(item){return _c('el-option',{key:item.value_id,attrs:{\"label\":item.value_name,\"value\":item.value_id}},[_vm._v(_vm._s(item.value_name))])}))],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"企业注册地址\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.form.company_registered_address),callback:function ($$v) {_vm.$set(_vm.form, \"company_registered_address\", $$v)},expression:\"form.company_registered_address\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"经营范围\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":3,\"placeholder\":\"请输入\"},model:{value:(_vm.form.company_scope_of_operation),callback:function ($$v) {_vm.$set(_vm.form, \"company_scope_of_operation\", $$v)},expression:\"form.company_scope_of_operation\"}})],1)],1)],1)],1):_vm._e(),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"联系人\"}},[_vm._l((_vm.ContactsList),function(tag,index){return _c('el-tag',{key:index,attrs:{\"type\":\"success\",\"closable\":\"\",\"disable-transitions\":false},on:{\"close\":function($event){_vm.closeTag(tag, index)}}},[_vm._v(\"\\n                \"+_vm._s(tag.linkman_name)+\"\\n            \")])}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-web-add\",\"plain\":\"\"},on:{\"click\":function($event){_vm.dialogContactsAdd = true}}},[_vm._v(\"新增联系人\")])],2),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submit()}}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.closeDialog()}}},[_vm._v(\"取消\")])],1)],1),_vm._v(\" \"),(_vm.dialogContactsAdd)?_c('el-dialog',{attrs:{\"title\":\"新增联系人\",\"visible\":_vm.dialogContactsAdd,\"append-to-body\":\"\",\"width\":\"500px\"},on:{\"update:visible\":function($event){_vm.dialogContactsAdd=$event}}},[_c('ContactsAdd',{on:{\"closeThisDialog\":_vm.closeThisDialog,\"parentSetContactsList\":_vm.setContactsList}})],1):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-92da945a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/pages/CRM/Chance/ChanceEdit.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/.3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/.13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-92da945a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/.13.7.1@vue-loader/lib/selector?type=styles&index=0!./ChanceEdit.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/.13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/.13.7.1@vue-loader/lib/selector?type=script&index=0!./ChanceEdit.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/.13.7.1@vue-loader/lib/selector?type=script&index=0!./ChanceEdit.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/.13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-92da945a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/.13.7.1@vue-loader/lib/selector?type=template&index=0!./ChanceEdit.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-92da945a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/CRM/Chance/ChanceEdit.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div>\r\n        <el-card>\r\n            <div slot=\"header\" class=\"clearfix\">\r\n                <span>我的机会客户</span>\r\n                <el-button-group style=\"float: right;\">\r\n                    <el-button icon=\"el-icon-refresh\" size=\"mini\" plain onclick=\"window.location.reload()\">刷新</el-button>\r\n                </el-button-group>\r\n            </div>\r\n            <el-form :inline=\"true\" :model=\"formFilter\" class=\"old_form_seach\" size=\"small\">\r\n                <el-form-item label=\"公司名称\">\r\n                    <el-input v-model=\"formFilter.enterprise_name\" placeholder=\"请输入\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"联系人姓名\">\r\n                    <el-input v-model=\"formFilter.customer_name\" placeholder=\"请输入\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"联系电话\">\r\n                    <el-input v-model=\"formFilter.telephone\" placeholder=\"请输入\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"主题\">\r\n                    <el-input v-model=\"formFilter.theme\" placeholder=\"请输入\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-button type=\"primary\" @click=\"formFilterSubmit\" icon=\"el-icon-search\">查询</el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n            <el-row>\r\n                <el-col :span=\"18\">\r\n                    <el-button size=\"small\" @click=\"crmDel()\" icon=\"el-icon-delete\">删除</el-button>\r\n                    <el-select size=\"small\" v-model=\"formFilter.user_id\" style=\"width: 150px;margin-left:20px;vertical-align: middle;\" placeholder=\"请选择业务员\">\r\n                        <el-option label=\"本人\" value=\"-2\"></el-option>\r\n                        <el-option v-for=\"item in roleunitUsers\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\"></el-option>\r\n                    </el-select>\r\n                    <el-select size=\"small\" v-model=\"formFilter.classification\" style=\"width: 150px;vertical-align: middle;\" placeholder=\"请选择客户类别\">\r\n                        <el-option label=\"所有客户分类\" value=\"\"></el-option>\r\n                        <el-option v-for=\"item in classification\" :key=\"item.value_id\" :label=\"item.value_name\" :value=\"item.value_id\"></el-option>\r\n                    </el-select>\r\n                </el-col>\r\n                <el-col :span=\"6\" class=\"text-right\">\r\n                    <el-button size=\"small\" type=\"default\" onclick=\"alert('即将上线')\" icon=\"el-icon-web-users\">已失销售机会</el-button>\r\n                    <el-button size=\"small\" type=\"success\" onclick=\"alert('敬请期待')\" icon=\"el-icon-upload\">导入</el-button>\r\n                    <el-button size=\"small\" type=\"success\" onclick=\"alert('敬请期待')\" icon=\"el-icon-web-download\">导出</el-button>\r\n                </el-col>\r\n            </el-row>\r\n            <el-table :data=\"tableData\" style=\"width: 100%\" @selection-change=\"handleSelectionChange\" v-loading=\"loading\">\r\n                <el-table-column type=\"selection\" width=\"55\" prop=\"c_id\"></el-table-column>\r\n                <el-table-column prop=\"c_id\" label=\"ID\" width=\"55\"></el-table-column>\r\n                <el-table-column prop=\"theme\" label=\"主题\"></el-table-column>\r\n                <el-table-column prop=\"enterprise_name\" label=\"公司名称\"></el-table-column>\r\n                <el-table-column label=\"客户姓名\">\r\n                    <template slot-scope=\"scope\">\r\n                        <a href=\"javascript:;\" @click=\"openDetails(scope.row.c_id)\">{{scope.row.customer_name}}</a>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"telephone\" label=\"联系电话\"></el-table-column>\r\n                <el-table-column label=\"客户分类\">\r\n                    <template slot-scope=\"scope\">\r\n                        {{getDicVals(scope.row.classification, 'classification')}}\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"当前流程节点\"></el-table-column>\r\n                <el-table-column prop=\"created_time\" label=\"创建时间\"></el-table-column>\r\n                <el-table-column label=\"操作\" width=\"380\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button\r\n                            size=\"mini\"\r\n                            @click=\"chanceEdit(scope.row.c_id)\" plain>编辑</el-button>\r\n                        <el-button\r\n                            size=\"mini\"\r\n                            type=\"warning\"\r\n                            @click=\"FollowUp(scope.row.c_id, scope.row.customer_name, scope.row.purchase_intention)\" plain>跟进记录</el-button>\r\n                        <el-button\r\n                            size=\"mini\"\r\n                            onclick=\"alert('即将上线')\" plain>文档记录</el-button>\r\n                        <el-button\r\n                            size=\"mini\"\r\n                            onclick=\"alert('即将上线')\" plain>销售流程</el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n            <!-- 分页 -->\r\n            <div class=\"text-center m-t\">\r\n                <el-pagination\r\n                    @size-change=\"pageSizeChange\"\r\n                    @current-change=\"pageIndexChange\"\r\n                    :current-page=\"pageIndex\"\r\n                    :page-sizes=\"[10, 15, 20, 30]\"\r\n                    :page-size=\"pageSize\"\r\n                    layout=\"total, sizes, prev, pager, next, jumper\"\r\n                    :total=\"dataTotal\">\r\n                </el-pagination>\r\n            </div>\r\n        </el-card>\r\n\r\n        <el-dialog v-if=\"dialogChanceEdit\" title=\"编辑机会客户\" :visible.sync=\"dialogChanceEdit\" append-to-body width=\"1000px\">\r\n            <ChanceEdit @closeDialog=\"closeDialog\" @parentGetDataList=\"getDataList\" :id=\"editId\"></ChanceEdit>\r\n        </el-dialog>\r\n\r\n        <el-dialog v-if=\"dialogFollowUp\" title=\"跟进记录\" :visible.sync=\"dialogFollowUp\" append-to-body width=\"900px\">\r\n            <FollowUp @closeDialog=\"closeDialog\" @parentGetDataList=\"getDataList\" :followData=\"FollowUpObj\" :isIntention=\"false\"></FollowUp>\r\n        </el-dialog>\r\n        <el-dialog v-if=\"dialogDetails\" title=\"客户详情\" :visible.sync=\"dialogDetails\" append-to-body width=\"1000px\">\r\n            <Details @closeDialog=\"closeDialog\" :id=\"editId\"></Details>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport FollowUp from './../FollowUp'\r\nimport Details from './../Details'\r\nimport ChanceEdit from './ChanceEdit'\r\n\r\nexport default {\r\n    components: {\r\n        FollowUp,\r\n        Details,\r\n        ChanceEdit\r\n    },\r\n    data () {\r\n        return {\r\n            editId: null, // 编辑id\r\n            FollowUpObj: null, // 更进记录需要数据\r\n            pageIndex: 1, // 当前页码\r\n            pageSize: 10, // 页码大小\r\n            dataTotal: 0, // 数据总数\r\n            loading: true,\r\n            formFilter: {\r\n                enterprise_name: '', // 公司名称\r\n                customer_name: '',// 联系人姓名\r\n                telephone: '',// 联系电话\r\n                theme: '',// 主题\r\n                user_id: '-2',// 查看谁的\r\n                classification: '' //购买意向\r\n            }, // 检索\r\n            searchForm: {\r\n                enterprise_name: '', // 公司名称\r\n                customer_name: '',// 联系人姓名\r\n                telephone: '',// 联系电话\r\n                theme: ''// 主题\r\n            },\r\n            selectionChecked: [],\r\n            tableData: [],\r\n            classification: [], // 字典 - 客户分类\r\n            roleunitUsers: [], // 所属业务员\r\n            dialogChanceEdit: false, // 编辑\r\n            dialogDetails: false, // 详情\r\n            dialogFollowUp: false //跟进记录\r\n        }\r\n    },\r\n    created() {\r\n        let _this = this;\r\n        this.$https.all([\r\n            this.getDic('crm_classification', 'classification'),\r\n            this.getRoleunitUsers(),\r\n            this.getDataList()\r\n        ]).then(this.$https.spread(function (acct, perms) {\r\n        }))\r\n    },\r\n    watch: {\r\n        'formFilter.classification': function(){\r\n            this.getDataList();\r\n        },\r\n        'formFilter.user_id': function(){\r\n            this.getDataList();\r\n        }\r\n    },\r\n    methods: {\r\n        pageSizeChange(val) { // 分页：pageSize改变时\r\n            this.pageSize = val;\r\n            this.getDataList();\r\n        },\r\n        pageIndexChange(val) { // 分页：当前页码改变时\r\n            this.pageIndex = val;\r\n            this.getDataList();\r\n        },\r\n        closeDialog(name) { // 关闭弹层\r\n            this[name] = false;\r\n        },\r\n        chanceEdit(id) { // 修改\r\n            this.editId = Number(id);\r\n            this.dialogChanceEdit = true;\r\n        },\r\n        FollowUp(id, name, type) { // 更进记录\r\n            this.FollowUpObj = {\r\n                id: Number(id),\r\n                name: name,\r\n                type: type // 购买意向\r\n            };\r\n            this.dialogFollowUp = true;\r\n        },\r\n        openDetails(id) { // 详情\r\n            this.editId = Number(id);\r\n            this.dialogDetails = true;\r\n        },\r\n        crmDel() { // 删除\r\n            if (this.selectionChecked.length === 0) {\r\n                this.$message({\r\n                    type: 'error',\r\n                    showClose: true,\r\n                    message: '您未勾选需要删除的客户'\r\n                })\r\n            } else {\r\n                this.$prompt('请输入删除原因', '删除需要总监确认。您还可以将其丢入公海', {\r\n                    inputType: 'textarea',\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消'\r\n                }).then(({ value }) => {\r\n\r\n                    let _postData = [];\r\n                    for(var valItem of this.selectionChecked) {\r\n                        let item = {\r\n                            c_id: valItem.c_id,\r\n                            old_user_id: valItem.user_id,\r\n                            apply_remark: value\r\n                        }\r\n                        _postData.push(item)\r\n                    }\r\n                    this.$https.post('/api/customer_delete_approve/create_customer_delete_approve', _postData).then((result) => {\r\n                        if (result.data.code == 0) {\r\n                            this.$message({\r\n                                type: 'success',\r\n                                showClose: true,\r\n                                message: '删除成功',\r\n                                duration: 1500,\r\n                                onClose: () => {\r\n                                    this.getDataList();\r\n                                    // window.location.reload()\r\n                                }\r\n                            })\r\n                        } else {\r\n                            this.$message({\r\n                                type: 'error',\r\n                                showClose: true,\r\n                                message: result.data.message\r\n                            })\r\n                        }\r\n                    })\r\n                });\r\n            }\r\n        },\r\n        getDic(code, dic) { // 根据关键字获取字典值并保存 相应字段\r\n            this.$https.get('/api/Dicts/GetValues', {\r\n                params: {\r\n                    type_code: code\r\n                }\r\n            }).then((result) => {\r\n                if (result.data.code == 0) {\r\n                    this[dic] = result.data.data;\r\n                } else {\r\n                    this.$message({\r\n                        type: 'error',\r\n                        showClose: true,\r\n                        message: result.data.message\r\n                    })\r\n                }\r\n            })\r\n        },\r\n        getDicVal(key, dic) { // 根据字典值匹配字典名\r\n            let text = '';\r\n            for(var item of this[dic]) {\r\n                if (key == item.value_id) {\r\n                    text = item.value_name;\r\n                }\r\n            }\r\n            return text;\r\n        },\r\n        getDicVals(keys, dic) { // 根据字典值匹配字典名\r\n            let texts = [];\r\n            let keysArr = keys.split(',');\r\n            for(var keyItem of keysArr) {\r\n                for(var item of this[dic]) {\r\n                    if (keyItem == item.value_id) {\r\n                        texts.push(item.value_name);\r\n                    }\r\n                }\r\n            }\r\n            return texts.join(', ');\r\n        },\r\n        handleSelectionChange(val) { // 多选执行的方法\r\n            this.selectionChecked = val;\r\n            console.info(this.selectionChecked);\r\n        },\r\n        formFilterSubmit() { // 搜索查询按钮\r\n            this.searchForm.enterprise_name = this.formFilter.enterprise_name;\r\n            this.searchForm.customer_name = this.formFilter.customer_name;\r\n            this.searchForm.telephone = this.formFilter.telephone;\r\n            this.searchForm.theme = this.formFilter.theme;\r\n            this.getDataList();\r\n        },\r\n        getRoleunitUsers() { // 获取员工\r\n            this.$https.get('/api/Account/list_users_by_roleunit').then((result) => {\r\n                if (result.data.code == 0) {\r\n                    for (let item of result.data.data) {\r\n                        let _item = {\r\n                            id: item.user_id,\r\n                            name: item.user_name\r\n                        }\r\n                        this.roleunitUsers.push(_item);\r\n                    }\r\n                } else {\r\n                    this.$message({\r\n                        type: 'error',\r\n                        showClose: true,\r\n                        message: result.data.message\r\n                    })\r\n                }\r\n            })\r\n        },\r\n        getDataList() { // 分页获取\r\n            \r\n            this.$https.get('/api/Customer/page', {\r\n                params: {\r\n                    currentPage: this.pageIndex,\r\n                    pageSize: this.pageSize,\r\n                    customer_classify: 1,\r\n                    enterprise_name: this.searchForm.enterprise_name,\r\n                    customer_name: this.searchForm.customer_name,\r\n                    telephone: this.searchForm.telephone,\r\n                    theme: this.searchForm.theme,\r\n                    user_id: this.formFilter.user_id == '' ? '-2' : this.formFilter.user_id,\r\n                    classification: this.formFilter.classification\r\n                }\r\n            }).then((result) => {\r\n                if (result.data.code == 0) {\r\n                    this.tableData = result.data.data.Items;\r\n                    this.dataTotal = result.data.data.Total;\r\n\r\n                    this.loading = false;\r\n                } else {\r\n                    this.$message({\r\n                        type: 'error',\r\n                        showClose: true,\r\n                        message: result.data.message\r\n                    })\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n    .old_form_seach {\r\n        border-bottom: 1px dashed #eee;\r\n        margin-bottom: 20px;\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/CRM/Chance/Lists.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-card',[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"我的机会客户\")]),_vm._v(\" \"),_c('el-button-group',{staticStyle:{\"float\":\"right\"}},[_c('el-button',{attrs:{\"icon\":\"el-icon-refresh\",\"size\":\"mini\",\"plain\":\"\",\"onclick\":\"window.location.reload()\"}},[_vm._v(\"刷新\")])],1)],1),_vm._v(\" \"),_c('el-form',{staticClass:\"old_form_seach\",attrs:{\"inline\":true,\"model\":_vm.formFilter,\"size\":\"small\"}},[_c('el-form-item',{attrs:{\"label\":\"公司名称\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.formFilter.enterprise_name),callback:function ($$v) {_vm.$set(_vm.formFilter, \"enterprise_name\", $$v)},expression:\"formFilter.enterprise_name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"联系人姓名\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.formFilter.customer_name),callback:function ($$v) {_vm.$set(_vm.formFilter, \"customer_name\", $$v)},expression:\"formFilter.customer_name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"联系电话\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.formFilter.telephone),callback:function ($$v) {_vm.$set(_vm.formFilter, \"telephone\", $$v)},expression:\"formFilter.telephone\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"主题\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.formFilter.theme),callback:function ($$v) {_vm.$set(_vm.formFilter, \"theme\", $$v)},expression:\"formFilter.theme\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.formFilterSubmit}},[_vm._v(\"查询\")])],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":18}},[_c('el-button',{attrs:{\"size\":\"small\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){_vm.crmDel()}}},[_vm._v(\"删除\")]),_vm._v(\" \"),_c('el-select',{staticStyle:{\"width\":\"150px\",\"margin-left\":\"20px\",\"vertical-align\":\"middle\"},attrs:{\"size\":\"small\",\"placeholder\":\"请选择业务员\"},model:{value:(_vm.formFilter.user_id),callback:function ($$v) {_vm.$set(_vm.formFilter, \"user_id\", $$v)},expression:\"formFilter.user_id\"}},[_c('el-option',{attrs:{\"label\":\"本人\",\"value\":\"-2\"}}),_vm._v(\" \"),_vm._l((_vm.roleunitUsers),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})})],2),_vm._v(\" \"),_c('el-select',{staticStyle:{\"width\":\"150px\",\"vertical-align\":\"middle\"},attrs:{\"size\":\"small\",\"placeholder\":\"请选择客户类别\"},model:{value:(_vm.formFilter.classification),callback:function ($$v) {_vm.$set(_vm.formFilter, \"classification\", $$v)},expression:\"formFilter.classification\"}},[_c('el-option',{attrs:{\"label\":\"所有客户分类\",\"value\":\"\"}}),_vm._v(\" \"),_vm._l((_vm.classification),function(item){return _c('el-option',{key:item.value_id,attrs:{\"label\":item.value_name,\"value\":item.value_id}})})],2)],1),_vm._v(\" \"),_c('el-col',{staticClass:\"text-right\",attrs:{\"span\":6}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"default\",\"onclick\":\"alert('即将上线')\",\"icon\":\"el-icon-web-users\"}},[_vm._v(\"已失销售机会\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"success\",\"onclick\":\"alert('敬请期待')\",\"icon\":\"el-icon-upload\"}},[_vm._v(\"导入\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"success\",\"onclick\":\"alert('敬请期待')\",\"icon\":\"el-icon-web-download\"}},[_vm._v(\"导出\")])],1)],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\",\"prop\":\"c_id\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"c_id\",\"label\":\"ID\",\"width\":\"55\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"theme\",\"label\":\"主题\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"enterprise_name\",\"label\":\"公司名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"客户姓名\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){_vm.openDetails(scope.row.c_id)}}},[_vm._v(_vm._s(scope.row.customer_name))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"telephone\",\"label\":\"联系电话\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"客户分类\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n                    \"+_vm._s(_vm.getDicVals(scope.row.classification, 'classification'))+\"\\n                \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"当前流程节点\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"created_time\",\"label\":\"创建时间\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"380\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"plain\":\"\"},on:{\"click\":function($event){_vm.chanceEdit(scope.row.c_id)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"warning\",\"plain\":\"\"},on:{\"click\":function($event){_vm.FollowUp(scope.row.c_id, scope.row.customer_name, scope.row.purchase_intention)}}},[_vm._v(\"跟进记录\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"onclick\":\"alert('即将上线')\",\"plain\":\"\"}},[_vm._v(\"文档记录\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"onclick\":\"alert('即将上线')\",\"plain\":\"\"}},[_vm._v(\"销售流程\")])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"text-center m-t\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.pageIndex,\"page-sizes\":[10, 15, 20, 30],\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.dataTotal},on:{\"size-change\":_vm.pageSizeChange,\"current-change\":_vm.pageIndexChange}})],1)],1),_vm._v(\" \"),(_vm.dialogChanceEdit)?_c('el-dialog',{attrs:{\"title\":\"编辑机会客户\",\"visible\":_vm.dialogChanceEdit,\"append-to-body\":\"\",\"width\":\"1000px\"},on:{\"update:visible\":function($event){_vm.dialogChanceEdit=$event}}},[_c('ChanceEdit',{attrs:{\"id\":_vm.editId},on:{\"closeDialog\":_vm.closeDialog,\"parentGetDataList\":_vm.getDataList}})],1):_vm._e(),_vm._v(\" \"),(_vm.dialogFollowUp)?_c('el-dialog',{attrs:{\"title\":\"跟进记录\",\"visible\":_vm.dialogFollowUp,\"append-to-body\":\"\",\"width\":\"900px\"},on:{\"update:visible\":function($event){_vm.dialogFollowUp=$event}}},[_c('FollowUp',{attrs:{\"followData\":_vm.FollowUpObj,\"isIntention\":false},on:{\"closeDialog\":_vm.closeDialog,\"parentGetDataList\":_vm.getDataList}})],1):_vm._e(),_vm._v(\" \"),(_vm.dialogDetails)?_c('el-dialog',{attrs:{\"title\":\"客户详情\",\"visible\":_vm.dialogDetails,\"append-to-body\":\"\",\"width\":\"1000px\"},on:{\"update:visible\":function($event){_vm.dialogDetails=$event}}},[_c('Details',{attrs:{\"id\":_vm.editId},on:{\"closeDialog\":_vm.closeDialog}})],1):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-8ebc52f4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/pages/CRM/Chance/Lists.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/.3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/.13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8ebc52f4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/.13.7.1@vue-loader/lib/selector?type=styles&index=0!./Lists.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/.13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/.13.7.1@vue-loader/lib/selector?type=script&index=0!./Lists.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/.13.7.1@vue-loader/lib/selector?type=script&index=0!./Lists.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/.13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8ebc52f4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/.13.7.1@vue-loader/lib/selector?type=template&index=0!./Lists.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-8ebc52f4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/CRM/Chance/Lists.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}