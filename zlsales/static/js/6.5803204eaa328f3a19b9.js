webpackJsonp([6],{"2cPT":function(e,t){},IJzd:function(e,t){},Kj2e:function(e,t){},P4SE:function(e,t){},RSFV:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o("u6qr"),i=o.n(a),n=o("3SZ7"),r=o.n(n),s=o("BGwB"),l=o("M05L"),c=o("+8MW"),m={components:{ContactsAdd:s.a,PhotosUploader:l.a,PhotoUploader:c.a},data:function(){var e=this;return{form:{classification:[],customer_source:"",transactions_num:"",enterprise_name:"",customer_name:"",telephone:"",sex:"1",native_place:"",company_email:"",job:"",person_identification_type:"",person_identification_number:"",person_identification_image:[],communication_address:"",company_logo:"",company_identification_type:"",company_identification_number:"",company_identification_image:[],company_corporate:"",company_industry_type:"",company_registered_capital:"",company_registered_address:"",company_type:"",company_main_product:"",company_employees_number:"",company_scope_of_operation:""},form_rules:{classification:[{type:"array",required:!0,message:"请至少选择一个分类",trigger:"change"}],customer_source:[{required:!0,message:"请选择线索来源",trigger:"change"}],transactions_num:[{required:!0,message:"成交次数不能为空",trigger:"blur"}],enterprise_name:[{required:!0,message:"企业名称不能为空",trigger:"blur"}],customer_name:[{required:!0,message:"客户姓名不能为空",trigger:"blur"}],telephone:[{required:!0,message:"联系电话不能为空",trigger:"blur"},{validator:function(t,o,a){!e.id&&o?e.$https.get("/api/Customer/get_model_by_telephone?telephone="+e.form.telephone).then(function(t){if(0==t.data.code){a(new Error("联系号码已存在"));var o=t.data.data.c_id,i=t.data.data.user_id;e.$confirm("联系号码已存在"+(t.data.data.user_name?", 此客户现归属于业务员（"+t.data.data.user_name+"）":"")+"，您可申请仲裁","提示",{confirmButtonText:"申请仲裁",cancelButtonText:"取消",type:"warning"}).then(function(){var t=[{c_id:o,old_user_id:i,apply_remark:"线索新增时申请仲裁"}];e.$https.post("/api/customer_change_salesman/create_customer_change_salesman",t).then(function(t){0==t.data.code?e.$message({type:"success",showClose:!0,message:"申请成功",duration:1500,onClose:function(){e.closeDialog(),e.$emit("parentGetDataList")}}):e.$message({type:"error",showClose:!0,message:t.data.message})})}).catch(function(){})}else a()}):a()},trigger:"blur"}]},dialogContactsAdd:!1,ContactsList:[],classification:[],customer_source:[],identification_type:[],company_card_type:[],company_industry:[],company_type:[],company_employees:[]}},props:{id:{type:Number}},created:function(){var e=this;this.$https.all([this.getDic("crm_classification","classification"),this.getDic("crm_customer_source","customer_source"),this.getDic("contact_card_type","identification_type"),this.getDic("company_card_type","company_card_type"),this.getDic("company_industry","company_industry"),this.getDic("company_type","company_type"),this.getDic("company_employees","company_employees")]).then(this.$https.spread(function(t,o){e.id&&(e.getOldData(),e.getContactsList())}))},methods:{setContactsList:function(e){var t=this,o=JSON.parse(e);this.id?(o.c_id=this.id,this.$https.post("/api/customer_linkman/create_customer_linkman",o).then(function(e){0==e.data.code?t.getContactsList():t.$message({type:"error",showClose:!0,message:e.data.message})})):this.ContactsList.push(o),console.log("联系人",this.ContactsList)},closeTag:function(e,t){var o=this;this.id?this.$https.get("/api/customer_linkman/delete_customer_linkman?cl_id="+e.cl_id+"&c_id="+this.id).then(function(e){0==e.data.code?o.$message({type:"success",showClose:!0,message:"联系人删除成功",duration:1e3,onClose:function(){o.getContactsList()}}):o.$message({type:"error",showClose:!0,message:e.data.message})}):this.ContactsList.splice(t,1)},closeThisDialog:function(e){this[e]=!1},getOldData:function(){var e=this;this.$https.get("/api/Customer/get_customerdetails?c_id="+this.id).then(function(t){if(0==t.data.code){var o=t.data.data;e.form.classification=o.classification.split(","),e.form.customer_source=o.customer_source,e.form.transactions_num=o.transactions_num,e.form.enterprise_name=o.enterprise_name,e.form.customer_name=o.customer_name,e.form.telephone=o.telephone,e.form.sex=o.sex.toString(),e.form.native_place=o.native_place,e.form.company_email=o.company_email,e.form.job=o.job,e.form.person_identification_type=o.person_identification_type,e.form.person_identification_number=o.person_identification_number,o.person_identification_image&&(e.form.person_identification_image=o.person_identification_image.split(",")),e.form.company_logo=o.company_logo,e.form.company_identification_type=o.company_identification_type,e.form.company_industry_type=0==o.company_industry_type?"":o.company_industry_type,e.form.company_type=0==o.company_type?"":o.company_type,e.form.company_employees_number=0==o.company_employees_number?"":o.company_employees_number,e.form.company_identification_number=o.company_identification_number,o.company_identification_image&&(e.form.company_identification_image=o.company_identification_image.split(",")),e.form.communication_address=o.communication_address,e.form.company_corporate=o.company_corporate,e.form.company_registered_capital=o.company_registered_capital,e.form.company_registered_address=o.company_registered_address,e.form.company_main_product=o.company_main_product,e.form.company_scope_of_operation=o.company_scope_of_operation,console.log(e.form)}else e.$message({type:"error",showClose:!0,message:t.data.message})})},getContactsList:function(){var e=this;this.$https.get("/api/customer_linkman/list_customer_linkman?c_id="+this.id).then(function(t){0==t.data.code?e.ContactsList=t.data.data:e.$message({type:"error",showClose:!0,message:t.data.message})})},existCompany:function(){var e=this;this.$https.get("/api/Customer/exist_by_enterprise_name?enterprise_name="+this.form.enterprise_name).then(function(t){0==t.data.code&&e.$alert("此公司名称已存在，如有需要可向总监申请仲裁","提醒",{confirmButtonText:"知道了"})})},submit:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return console.error("验证失败"),!1;var o=JSON.parse(r()(e.form));o.classification=e.form.classification.join(","),o.person_identification_image=e.form.person_identification_image.join(","),o.company_identification_image=e.form.company_identification_image.join(","),o.company_industry_type=""==e.form.company_industry_type?0:e.form.company_industry_type,o.company_type=""==e.form.company_type?0:e.form.company_type,o.company_employees_number=""==e.form.company_employees_number?0:e.form.company_employees_number,e.id?(o.c_id=parseInt(e.id),e.$https.post("/api/Customer/update_customer_old",o).then(function(t){0==t.data.code?e.$message({type:"success",showClose:!0,message:"编辑成功",duration:1500,onClose:function(){e.closeDialog("dialogOldEdit"),e.$emit("parentGetDataList")}}):e.$message({type:"error",showClose:!0,message:t.data.message})})):(o.list_customer_linkman=e.ContactsList,e.$https.post("/api/Customer/create_customer_old",o).then(function(t){0==t.data.code?e.$message({type:"success",showClose:!0,message:"添加成功",duration:1500,onClose:function(){e.closeDialog("dialogOldAdd"),e.$emit("parentGetDataList")}}):e.$message({type:"error",showClose:!0,message:t.data.message})}))})},getDic:function(e,t){var o=this;this.$https.get("/api/Dicts/GetValues",{params:{type_code:e}}).then(function(e){0==e.data.code?o[t]=e.data.data:o.$message({type:"error",showClose:!0,message:e.data.message})})},closeDialog:function(e){e?this.$emit("closeDialog",e):(this.$emit("closeDialog","dialogOldAdd"),this.$emit("closeDialog","dialogOldEdit"))}}},p={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-form",{ref:"form",attrs:{rules:e.form_rules,model:e.form,"label-width":"130px",size:"small"}},[o("el-row",[o("el-col",{attrs:{span:24}},[o("el-form-item",{attrs:{label:"线索分类",prop:"classification"}},[o("el-checkbox-group",{model:{value:e.form.classification,callback:function(t){e.$set(e.form,"classification",t)},expression:"form.classification"}},e._l(e.classification,function(t){return o("el-checkbox",{key:t.value_id,attrs:{label:String(t.value_id),name:"type"}},[e._v(e._s(t.value_name))])}))],1)],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:24}},[o("el-form-item",{attrs:{label:"线索来源",prop:"customer_source"}},[o("el-radio-group",{model:{value:e.form.customer_source,callback:function(t){e.$set(e.form,"customer_source",t)},expression:"form.customer_source"}},e._l(e.customer_source,function(t){return o("el-radio",{key:t.value_id,attrs:{label:String(t.value_id)}},[e._v(e._s(t.value_name))])}))],1)],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"成交次数",prop:"transactions_num"}},[o("el-input",{attrs:{placeholder:"正整数"},nativeOn:{keyup:function(t){e.onkeyupPlusInt(t)}},model:{value:e.form.transactions_num,callback:function(t){e.$set(e.form,"transactions_num",t)},expression:"form.transactions_num"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"企业名称",prop:"enterprise_name"}},[o("el-input",{attrs:{placeholder:"请输入"},on:{blur:function(t){e.existCompany()}},model:{value:e.form.enterprise_name,callback:function(t){e.$set(e.form,"enterprise_name",t)},expression:"form.enterprise_name"}})],1)],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"客户姓名",prop:"customer_name"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.customer_name,callback:function(t){e.$set(e.form,"customer_name",t)},expression:"form.customer_name"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"客户联系电话",prop:"telephone"}},[o("el-input",{attrs:{placeholder:"请输入",disabled:void 0!==e.id},model:{value:e.form.telephone,callback:function(t){e.$set(e.form,"telephone",t)},expression:"form.telephone"}})],1)],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"性别"}},[o("el-radio-group",{model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[o("el-radio",{attrs:{label:"1"}},[e._v("男")]),e._v(" "),o("el-radio",{attrs:{label:"0"}},[e._v("女")])],1)],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"籍贯"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.native_place,callback:function(t){e.$set(e.form,"native_place",t)},expression:"form.native_place"}})],1)],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"电子邮箱"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.company_email,callback:function(t){e.$set(e.form,"company_email",t)},expression:"form.company_email"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"职务"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.job,callback:function(t){e.$set(e.form,"job",t)},expression:"form.job"}})],1)],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"个人证件类型"}},[o("el-select",{model:{value:e.form.person_identification_type,callback:function(t){e.$set(e.form,"person_identification_type",t)},expression:"form.person_identification_type"}},e._l(e.identification_type,function(t){return o("el-option",{key:t.value_id,attrs:{label:t.value_name,value:String(t.value_id)}},[e._v(e._s(t.value_name))])}))],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"个人证件号码",prop:"person_identification_number"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.person_identification_number,callback:function(t){e.$set(e.form,"person_identification_number",t)},expression:"form.person_identification_number"}})],1)],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:24}},[o("el-form-item",{attrs:{label:"个人证件图片"}},[o("PhotosUploader",{staticClass:"avatar-uploader",attrs:{limit:9,files:e.form.person_identification_image},on:{"update:files":function(t){e.$set(e.form,"person_identification_image",t)}}})],1)],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:24}},[o("el-form-item",{attrs:{label:"通讯地址"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.communication_address,callback:function(t){e.$set(e.form,"communication_address",t)},expression:"form.communication_address"}})],1)],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:24}},[o("el-form-item",{attrs:{label:"企业Logo"}},[o("PhotoUploader",{attrs:{files:e.form.company_logo},on:{"update:files":function(t){e.$set(e.form,"company_logo",t)}}})],1)],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"企业证件类型"}},[o("el-select",{model:{value:e.form.company_identification_type,callback:function(t){e.$set(e.form,"company_identification_type",t)},expression:"form.company_identification_type"}},e._l(e.company_card_type,function(t){return o("el-option",{key:t.value_id,attrs:{label:t.value_name,value:String(t.value_id)}},[e._v(e._s(t.value_name))])}))],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"企业证件号码"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.company_identification_number,callback:function(t){e.$set(e.form,"company_identification_number",t)},expression:"form.company_identification_number"}})],1)],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:24}},[o("el-form-item",{attrs:{label:"企业证件图片"}},[o("PhotosUploader",{staticClass:"avatar-uploader",attrs:{limit:9,files:e.form.company_identification_image},on:{"update:files":function(t){e.$set(e.form,"company_identification_image",t)}}})],1)],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"企业法人"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.company_corporate,callback:function(t){e.$set(e.form,"company_corporate",t)},expression:"form.company_corporate"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"企业行业类别"}},[o("el-select",{model:{value:e.form.company_industry_type,callback:function(t){e.$set(e.form,"company_industry_type",t)},expression:"form.company_industry_type"}},e._l(e.company_industry,function(t){return o("el-option",{key:t.value_id,attrs:{label:t.value_name,value:String(t.value_id)}},[e._v(e._s(t.value_name))])}))],1)],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"企业类型"}},[o("el-select",{model:{value:e.form.company_type,callback:function(t){e.$set(e.form,"company_type",t)},expression:"form.company_type"}},e._l(e.company_type,function(t){return o("el-option",{key:t.value_id,attrs:{label:t.value_name,value:String(t.value_id)}},[e._v(e._s(t.value_name))])}))],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"企业注册资金"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.company_registered_capital,callback:function(t){e.$set(e.form,"company_registered_capital",t)},expression:"form.company_registered_capital"}})],1)],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"主营产品"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.company_main_product,callback:function(t){e.$set(e.form,"company_main_product",t)},expression:"form.company_main_product"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"企业员工人数(人)"}},[o("el-select",{model:{value:e.form.company_employees_number,callback:function(t){e.$set(e.form,"company_employees_number",t)},expression:"form.company_employees_number"}},e._l(e.company_employees,function(t){return o("el-option",{key:t.value_id,attrs:{label:t.value_name,value:t.value_id}},[e._v(e._s(t.value_name))])}))],1)],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:24}},[o("el-form-item",{attrs:{label:"企业注册地址"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.company_registered_address,callback:function(t){e.$set(e.form,"company_registered_address",t)},expression:"form.company_registered_address"}})],1)],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:24}},[o("el-form-item",{attrs:{label:"经营范围"}},[o("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入"},model:{value:e.form.company_scope_of_operation,callback:function(t){e.$set(e.form,"company_scope_of_operation",t)},expression:"form.company_scope_of_operation"}})],1)],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"联系人"}},[e._l(e.ContactsList,function(t,a){return o("el-tag",{key:a,attrs:{type:"success",closable:"","disable-transitions":!1},on:{close:function(o){e.closeTag(t,a)}}},[e._v("\n                "+e._s(t.linkman_name)+"\n            ")])}),e._v(" "),o("el-button",{attrs:{type:"primary",icon:"el-icon-web-add",plain:""},on:{click:function(t){e.dialogContactsAdd=!0}}},[e._v("新增联系人")])],2),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submit()}}},[e._v("保存")]),e._v(" "),o("el-button",{on:{click:function(t){e.closeDialog()}}},[e._v("取消")])],1)],1),e._v(" "),e.dialogContactsAdd?o("el-dialog",{attrs:{title:"新增联系人",visible:e.dialogContactsAdd,"append-to-body":"",width:"500px"},on:{"update:visible":function(t){e.dialogContactsAdd=t}}},[o("ContactsAdd",{on:{closeThisDialog:e.closeThisDialog,parentSetContactsList:e.setContactsList}})],1):e._e()],1)},staticRenderFns:[]};var _=o("Aizv")(m,p,!1,function(e){o("IJzd")},"data-v-03f0057c",null).exports,d=o("5BUm"),u={data:function(){return{step:0,form:{theme:"",classification:[],purchase_intention:"",customer_name:"",telephone:"",intentional_area:"",customer_type:1,person_identification_type:"",person_identification_number:"",enterprise_name:"",company_identification_type:"",company_identification_number:""},rawform:{person_identification_type:"",person_identification_number:"",enterprise_name:"",company_identification_type:"",company_identification_number:""},form_rules:{classification:[{type:"array",required:!0,message:"请至少选择一个分类",trigger:"change"}],purchase_intention:[{required:!0,message:"请选择购买意向",trigger:"change"}],customer_type:[{required:!0,message:"请选择客户类别",trigger:"change"}]},classification:[],purchase_intention:[],identification_type:[],company_card_type:[],flowForm:{flow_id:"1",customer_type:1,person_identification_type:"",person_identification_number:"",enterprise_name:"",company_identification_type:"",company_identification_number:""},flowForm_rules:{flow_id:[{required:!0,message:"请选择适用流程",trigger:"change"}],customer_type:[{required:!0,message:"请选择客户类别",trigger:"change"}]}}},props:{id:{type:Number}},created:function(){var e=this;this.$https.all([this.getDic("crm_classification","classification"),this.getDic("crm_purchase_intention","purchase_intention"),this.getDic("contact_card_type","identification_type"),this.getDic("company_card_type","company_card_type")]).then(this.$https.spread(function(t,o){console.log(e.id),e.id&&e.getOldData()}))},methods:{closeThisDialog:function(e){this[e]=!1},getOldData:function(){var e=this;this.$https.get("/api/Customer/get_customerdetails?c_id="+this.id).then(function(t){if(0==t.data.code){var o=t.data.data;e.form.theme=o.theme,e.form.classification=o.classification.split(","),e.form.purchase_intention=o.purchase_intention,e.form.customer_name=o.customer_name,e.form.telephone=o.telephone,e.form.intentional_area=0==o.intentional_area?"":o.intentional_area,e.form.enterprise_name=o.enterprise_name,e.form.company_identification_type=o.company_identification_type,e.form.company_identification_number=o.company_identification_number,e.form.person_identification_type=o.person_identification_type,e.form.person_identification_number=o.person_identification_number,e.rawform.enterprise_name=o.enterprise_name,e.rawform.company_identification_type=o.company_identification_type,e.rawform.company_identification_number=o.company_identification_number,e.rawform.person_identification_type=o.person_identification_type,e.rawform.person_identification_number=o.person_identification_number}else e.$message({type:"error",showClose:!0,message:t.data.message})})},next:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return console.error("验证失败"),!1;var o=JSON.parse(r()(e.form));if(o.c_id=parseInt(e.id),1==o.customer_type){if(""==o.person_identification_type)return void e.$message({type:"error",showClose:!0,message:"请选择个人证件类型"});if(""==o.person_identification_number)return void e.$message({type:"error",showClose:!0,message:"请填写个人证件号码"});o.enterprise_name=e.rawform.enterprise_name,o.company_identification_type=e.rawform.company_identification_type,o.company_identification_number=e.rawform.company_identification_number}else{if(""==o.enterprise_name)return void e.$message({type:"error",showClose:!0,message:"请填写企业名称"});if(""==o.company_identification_type)return void e.$message({type:"error",showClose:!0,message:"请选择企业证件类型"});if(""==o.company_identification_number)return void e.$message({type:"error",showClose:!0,message:"请填写企业证件号码"});o.person_identification_type=e.rawform.person_identification_type,o.person_identification_number=e.rawform.person_identification_number}o.classification=e.form.classification.join(","),o.intentional_area=""===e.form.intentional_area?0:e.form.intentional_area,e.$https.post("/api/Customer/update_customer_old_to_sale",o).then(function(t){0==t.data.code?e.$message({type:"success",showClose:!0,message:"已成功将该客户转换为机会客户，请继续为改客户创建一个销售流程",duration:1500,onClose:function(){e.step=1,e.flowForm.customer_type=o.customer_type,e.flowForm.enterprise_name=o.enterprise_name,e.flowForm.company_identification_type=o.company_identification_type,e.flowForm.company_identification_number=o.company_identification_number,e.flowForm.person_identification_type=o.person_identification_type,e.flowForm.person_identification_number=o.person_identification_number}}):e.$message({type:"error",showClose:!0,message:t.data.message})})})},getDic:function(e,t){var o=this;this.$https.get("/api/Dicts/GetValues",{params:{type_code:e}}).then(function(e){0==e.data.code?o[t]=e.data.data:o.$message({type:"error",showClose:!0,message:e.data.message})})},closeDialog:function(e){e?this.$emit("closeDialog",e):this.$emit("closeDialog","dialogOldToChance")},submit:function(){var e=this;this.$refs.flowForm.validate(function(t){if(!t)return console.error("验证失败"),!1;var o={flow_id:e.flowForm.flow_id};if(o.customer_transaction_model={c_id:e.id,transaction_type:2,transaction_status:0,customer_type:e.flowForm.customer_type,person_identification_type:e.flowForm.person_identification_type,person_identification_number:e.flowForm.person_identification_number,enterprise_name:e.flowForm.enterprise_name,company_identification_type:e.flowForm.company_identification_type,company_identification_number:e.flowForm.company_identification_number},1==o.customer_transaction_model.customer_type){if(""==o.customer_transaction_model.person_identification_type)return void e.$message({type:"error",showClose:!0,message:"请选择个人证件类型"});if(""==o.customer_transaction_model.person_identification_number)return void e.$message({type:"error",showClose:!0,message:"请填写个人证件号码"});o.customer_transaction_model.enterprise_name=e.rawform.enterprise_name,o.customer_transaction_model.company_identification_type=e.rawform.company_identification_type,o.customer_transaction_model.company_identification_number=e.rawform.company_identification_number}else{if(""==o.customer_transaction_model.enterprise_name)return void e.$message({type:"error",showClose:!0,message:"请填写企业名称"});if(""==o.customer_transaction_model.company_identification_type)return void e.$message({type:"error",showClose:!0,message:"请选择企业证件类型"});if(""==o.customer_transaction_model.company_identification_number)return void e.$message({type:"error",showClose:!0,message:"请填写企业证件号码"});o.customer_transaction_model.person_identification_type=e.rawform.person_identification_type,o.customer_transaction_model.person_identification_number=e.rawform.person_identification_number}e.$https.post("/api/flow_buyinghouse/create_flow_buyinghouse",o).then(function(t){0==t.data.code?e.$message({type:"success",showClose:!0,message:"已为该客户成功创建销售流程",duration:1500,onClose:function(){e.closeDialog(),e.$emit("parentGetDataList")}}):e.$message({type:"error",showClose:!0,message:t.data.message})})})}}},f={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[0===e.step?o("el-form",{ref:"form",attrs:{rules:e.form_rules,model:e.form,"label-width":"120px",size:"small"}},[o("el-form-item",{attrs:{label:"客户姓名"}},[o("p",[e._v(e._s(e.form.customer_name))])]),e._v(" "),o("el-form-item",{attrs:{label:"客户联系电话"}},[o("p",[e._v(e._s(e.form.telephone))])]),e._v(" "),o("el-form-item",{attrs:{label:"购买意向",prop:"purchase_intention"}},[o("el-radio-group",{model:{value:e.form.purchase_intention,callback:function(t){e.$set(e.form,"purchase_intention",t)},expression:"form.purchase_intention"}},e._l(e.purchase_intention,function(t){return o("el-radio",{key:t.value_id,attrs:{label:String(t.value_id)}},[e._v(e._s(t.value_name))])}))],1),e._v(" "),o("el-form-item",{attrs:{label:"线索分类",prop:"classification"}},[o("el-checkbox-group",{model:{value:e.form.classification,callback:function(t){e.$set(e.form,"classification",t)},expression:"form.classification"}},e._l(e.classification,function(t){return o("el-checkbox",{key:t.value_id,attrs:{label:String(t.value_id),name:"type"}},[e._v(e._s(t.value_name))])}))],1),e._v(" "),o("el-form-item",{attrs:{label:"线索名称/主题"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.theme,callback:function(t){e.$set(e.form,"theme",t)},expression:"form.theme"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"意向面积"}},[o("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"数字，小数点两位，单位平方米",type:"number"},nativeOn:{keyup:function(t){e.onkeyupPrice(t)}},model:{value:e.form.intentional_area,callback:function(t){e.$set(e.form,"intentional_area",t)},expression:"form.intentional_area"}}),e._v(" 平米\n        ")],1),e._v(" "),o("el-form-item",{attrs:{label:"客户主体类别",prop:"customer_type"}},[o("el-radio-group",{model:{value:e.form.customer_type,callback:function(t){e.$set(e.form,"customer_type",t)},expression:"form.customer_type"}},[o("el-radio",{attrs:{label:1}},[e._v("个人")]),e._v(" "),o("el-radio",{attrs:{label:2}},[e._v("企业")])],1)],1),e._v(" "),1==e.form.customer_type?o("div",[o("el-form-item",{attrs:{label:"个人证件类型"}},[o("el-select",{model:{value:e.form.person_identification_type,callback:function(t){e.$set(e.form,"person_identification_type",t)},expression:"form.person_identification_type"}},e._l(e.identification_type,function(t){return o("el-option",{key:t.value_id,attrs:{label:t.value_name,value:String(t.value_id)}},[e._v(e._s(t.value_name))])}))],1),e._v(" "),o("el-form-item",{attrs:{label:"个人证件号码",prop:"person_identification_number"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.person_identification_number,callback:function(t){e.$set(e.form,"person_identification_number",t)},expression:"form.person_identification_number"}})],1)],1):e._e(),e._v(" "),2==e.form.customer_type?o("div",[o("el-form-item",{attrs:{label:"企业名称"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.enterprise_name,callback:function(t){e.$set(e.form,"enterprise_name",t)},expression:"form.enterprise_name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"企业证件类型"}},[o("el-select",{model:{value:e.form.company_identification_type,callback:function(t){e.$set(e.form,"company_identification_type",t)},expression:"form.company_identification_type"}},e._l(e.company_card_type,function(t){return o("el-option",{key:t.value_id,attrs:{label:t.value_name,value:String(t.value_id)}},[e._v(e._s(t.value_name))])}))],1),e._v(" "),o("el-form-item",{attrs:{label:"企业证件号码"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.company_identification_number,callback:function(t){e.$set(e.form,"company_identification_number",t)},expression:"form.company_identification_number"}})],1)],1):e._e(),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.next()}}},[e._v("下一步，创建销售流程")]),e._v(" "),o("el-button",{on:{click:function(t){e.closeDialog()}}},[e._v("取消")])],1)],1):e._e(),e._v(" "),1===e.step?o("el-form",{ref:"flowForm",attrs:{rules:e.flowForm_rules,model:e.flowForm,"label-width":"120px",size:"small"}},[o("el-form-item",{attrs:{label:"适用销售流程",prop:"flow_id"}},[o("el-select",{model:{value:e.flowForm.flow_id,callback:function(t){e.$set(e.flowForm,"flow_id",t)},expression:"flowForm.flow_id"}},[o("el-option",{attrs:{label:"测试值为1",value:"1"}})],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"客户主体类别",prop:"customer_type"}},[o("el-radio-group",{model:{value:e.flowForm.customer_type,callback:function(t){e.$set(e.flowForm,"customer_type",t)},expression:"flowForm.customer_type"}},[o("el-radio",{attrs:{label:1}},[e._v("个人")]),e._v(" "),o("el-radio",{attrs:{label:2}},[e._v("企业")])],1)],1),e._v(" "),1==e.flowForm.customer_type?o("div",[o("el-form-item",{attrs:{label:"个人证件类型"}},[o("el-select",{model:{value:e.flowForm.person_identification_type,callback:function(t){e.$set(e.flowForm,"person_identification_type",t)},expression:"flowForm.person_identification_type"}},e._l(e.identification_type,function(t){return o("el-option",{key:t.value_id,attrs:{label:t.value_name,value:String(t.value_id)}},[e._v(e._s(t.value_name))])}))],1),e._v(" "),o("el-form-item",{attrs:{label:"个人证件号码",prop:"person_identification_number"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.flowForm.person_identification_number,callback:function(t){e.$set(e.flowForm,"person_identification_number",t)},expression:"flowForm.person_identification_number"}})],1)],1):e._e(),e._v(" "),2==e.flowForm.customer_type?o("div",[o("el-form-item",{attrs:{label:"企业名称"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.flowForm.enterprise_name,callback:function(t){e.$set(e.flowForm,"enterprise_name",t)},expression:"flowForm.enterprise_name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"企业证件类型"}},[o("el-select",{model:{value:e.flowForm.company_identification_type,callback:function(t){e.$set(e.flowForm,"company_identification_type",t)},expression:"flowForm.company_identification_type"}},e._l(e.company_card_type,function(t){return o("el-option",{key:t.value_id,attrs:{label:t.value_name,value:String(t.value_id)}},[e._v(e._s(t.value_name))])}))],1),e._v(" "),o("el-form-item",{attrs:{label:"企业证件号码"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.flowForm.company_identification_number,callback:function(t){e.$set(e.flowForm,"company_identification_number",t)},expression:"flowForm.company_identification_number"}})],1)],1):e._e(),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submit()}}},[e._v("提交")])],1)],1):e._e()],1)},staticRenderFns:[]};var y=o("Aizv")(u,f,!1,function(e){o("Kj2e")},"data-v-43f83757",null).exports,h=o("zGNL"),g={data:function(){return{fileList:[],acceptTypes:["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"]}},created:function(){},methods:{beforeUpload:function(e){return console.log("type",e.type),this.acceptTypes.includes(e.type)?e.size/1024/1024<1?e:(this.$notify.info({title:e.name,message:"单张图片不得大于 1 MB 的限制"}),!1):(this.$notify.info({title:e.name,message:"只能上传 xlsx / csv 格式的文件"}),!1)},handleChange:function(e,t){console.log(e)},onSuccess:function(e,t,o){if(0===e.code)this.$message({type:"success",showClose:!0,message:"导入成功，您可返还列表刷新页面查看，也可继续导入",duration:2500,onClose:function(){}});else if(9999===e.code){var a="<h4>客户导入成功，以下客户导入失败：</h4>";a+='<table class="el-table el-table--border" cellpadding="0" cellspacing="0">',a+="<tr><th>公司名称</th><th>客户姓名</th><th>客户电话</th><th>出错原因</th></tr>";var n=!0,r=!1,s=void 0;try{for(var l,c=i()(e.data);!(n=(l=c.next()).done);n=!0){var m=l.value;a+="<tr>",a+="<td>"+m.enterprise_name+"</td>",a+="<td>"+m.customer_name+"</td>",a+="<td>"+m.telephone+"</td>",a+="<td>"+m.badtype+"</td>",a+="</tr>"}}catch(e){r=!0,s=e}finally{try{!n&&c.return&&c.return()}finally{if(r)throw s}}a+="</table>",this.$alert(a,"部分用户导入不成功",{dangerouslyUseHTMLString:!0})}else this.$message({type:"error",showClose:!0,duration:2500,message:e.message})},onError:function(e,t,o){this.$message({type:"error",showClose:!0,duration:2500,message:e.message})}}},v={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-upload",{attrs:{drag:"",action:this.$https.defaults.baseURL+"/api/Customer_excel/Importcustomer",accept:e.acceptTypes.join(","),"before-upload":e.beforeUpload,"with-credentials":"","on-change":e.handleChange,"on-success":e.onSuccess,"on-error":e.onError,"file-list":e.fileList}},[o("i",{staticClass:"el-icon-upload"}),e._v(" "),o("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),o("em",[e._v("点击上传")])]),e._v(" "),o("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传xlsx,csv文件，且不超过1MB")])])],1)},staticRenderFns:[]};var b=o("Aizv")(g,v,!1,function(e){o("P4SE")},"data-v-093135a8",null).exports,w={components:{OldAdd:_,FollowUp:d.a,OldToChance:y,Details:h.a,Importcustomer:b},data:function(){return{editId:null,FollowUpObj:null,pageIndex:1,pageSize:10,dataTotal:0,loading:!0,formFilter:{enterprise_name:"",customer_name:"",telephone:"",theme:"",user_id:"-2",purchase_intention:""},searchForm:{enterprise_name:"",customer_name:"",telephone:"",theme:""},selectionChecked:[],tableData:[],classification:[],purchase_intention:[],roleunitUsers:[],dialogOldAdd:!1,dialogOldEdit:!1,dialogDetails:!1,dialogFollowUp:!1,dialogOldToChance:!1,dialogImportcustomer:!1}},created:function(){this.$https.all([this.getDic("crm_classification","classification"),this.getDic("crm_purchase_intention","purchase_intention"),this.getRoleunitUsers(),this.getDataList()]).then(this.$https.spread(function(e,t){}))},watch:{"formFilter.purchase_intention":function(){this.getDataList()},"formFilter.user_id":function(){this.getDataList()}},methods:{pageSizeChange:function(e){this.pageSize=e,this.getDataList()},pageIndexChange:function(e){this.pageIndex=e,this.getDataList()},closeDialog:function(e){this[e]=!1},cluesEdit:function(e){this.editId=Number(e),this.dialogOldEdit=!0},openDetails:function(e){this.editId=Number(e),this.dialogDetails=!0},FollowUp:function(e,t,o){this.FollowUpObj={id:Number(e),name:t,type:o},this.dialogFollowUp=!0},oldToChance:function(e){this.editId=Number(e),this.dialogOldToChance=!0},crmDel:function(){var e=this;0===this.selectionChecked.length?this.$message({type:"error",showClose:!0,message:"您未勾选需要删除的客户"}):this.$prompt("请输入删除原因","删除需要总监确认。您还可以将其丢入公海",{inputType:"textarea",confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(t){var o=t.value,a=[],n=!0,r=!1,s=void 0;try{for(var l,c=i()(e.selectionChecked);!(n=(l=c.next()).done);n=!0){var m=l.value,p={c_id:m.c_id,old_user_id:m.user_id,apply_remark:o};a.push(p)}}catch(e){r=!0,s=e}finally{try{!n&&c.return&&c.return()}finally{if(r)throw s}}e.$https.post("/api/customer_delete_approve/create_customer_delete_approve",a).then(function(t){0==t.data.code?e.$message({type:"success",showClose:!0,message:"删除成功",duration:1500,onClose:function(){e.getDataList()}}):e.$message({type:"error",showClose:!0,message:t.data.message})})})},getDic:function(e,t){var o=this;this.$https.get("/api/Dicts/GetValues",{params:{type_code:e}}).then(function(e){0==e.data.code?o[t]=e.data.data:o.$message({type:"error",showClose:!0,message:e.data.message})})},getDicVal:function(e,t){var o="",a=!0,n=!1,r=void 0;try{for(var s,l=i()(this[t]);!(a=(s=l.next()).done);a=!0){var c=s.value;e==c.value_id&&(o=c.value_name)}}catch(e){n=!0,r=e}finally{try{!a&&l.return&&l.return()}finally{if(n)throw r}}return o},getDicVals:function(e,t){var o=[],a=e.split(","),n=!0,r=!1,s=void 0;try{for(var l,c=i()(a);!(n=(l=c.next()).done);n=!0){var m=l.value,p=!0,_=!1,d=void 0;try{for(var u,f=i()(this[t]);!(p=(u=f.next()).done);p=!0){var y=u.value;m==y.value_id&&o.push(y.value_name)}}catch(e){_=!0,d=e}finally{try{!p&&f.return&&f.return()}finally{if(_)throw d}}}}catch(e){r=!0,s=e}finally{try{!n&&c.return&&c.return()}finally{if(r)throw s}}return o.join(", ")},handleSelectionChange:function(e){this.selectionChecked=e,console.info(this.selectionChecked)},formFilterSubmit:function(){this.searchForm.enterprise_name=this.formFilter.enterprise_name,this.searchForm.customer_name=this.formFilter.customer_name,this.searchForm.telephone=this.formFilter.telephone,this.searchForm.theme=this.formFilter.theme,this.getDataList()},getRoleunitUsers:function(){var e=this;this.$https.get("/api/Account/list_users_by_roleunit").then(function(t){if(0==t.data.code){var o=!0,a=!1,n=void 0;try{for(var r,s=i()(t.data.data);!(o=(r=s.next()).done);o=!0){var l=r.value,c={id:l.user_id,name:l.user_name};e.roleunitUsers.push(c)}}catch(e){a=!0,n=e}finally{try{!o&&s.return&&s.return()}finally{if(a)throw n}}}else e.$message({type:"error",showClose:!0,message:t.data.message})})},getDataList:function(){var e=this;this.$https.get("/api/Customer/page",{params:{currentPage:this.pageIndex,pageSize:this.pageSize,customer_classify:2,enterprise_name:this.searchForm.enterprise_name,customer_name:this.searchForm.customer_name,telephone:this.searchForm.telephone,theme:this.searchForm.theme,user_id:""==this.formFilter.user_id?"-2":this.formFilter.user_id,purchase_intention:this.formFilter.purchase_intention}}).then(function(t){0==t.data.code?(e.tableData=t.data.data.Items,e.dataTotal=t.data.data.Total,e.loading=!1):e.$message({type:"error",showClose:!0,message:t.data.message})})},Importcustomer:function(){this.dialogImportcustomer=!0}}},$={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-card",[o("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[o("span",[e._v("我的老客户")]),e._v(" "),o("el-button-group",{staticStyle:{float:"right"}},[o("el-button",{attrs:{icon:"el-icon-refresh",size:"mini",plain:"",onclick:"window.location.reload()"}},[e._v("刷新")])],1)],1),e._v(" "),o("el-form",{staticClass:"old_form_seach",attrs:{inline:!0,model:e.formFilter,size:"small"}},[o("el-form-item",{attrs:{label:"公司名称"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.formFilter.enterprise_name,callback:function(t){e.$set(e.formFilter,"enterprise_name",t)},expression:"formFilter.enterprise_name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"联系人姓名"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.formFilter.customer_name,callback:function(t){e.$set(e.formFilter,"customer_name",t)},expression:"formFilter.customer_name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"联系电话"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.formFilter.telephone,callback:function(t){e.$set(e.formFilter,"telephone",t)},expression:"formFilter.telephone"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"主题"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.formFilter.theme,callback:function(t){e.$set(e.formFilter,"theme",t)},expression:"formFilter.theme"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.formFilterSubmit}},[e._v("查询")])],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:12}},[o("el-button",{attrs:{size:"small",icon:"el-icon-delete"},on:{click:function(t){e.crmDel()}}},[e._v("删除")]),e._v(" "),o("el-select",{staticStyle:{width:"150px","margin-left":"20px","vertical-align":"middle"},attrs:{size:"small",placeholder:"请选择业务员"},model:{value:e.formFilter.user_id,callback:function(t){e.$set(e.formFilter,"user_id",t)},expression:"formFilter.user_id"}},[o("el-option",{attrs:{label:"本人",value:"-2"}}),e._v(" "),e._l(e.roleunitUsers,function(e){return o("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})],2),e._v(" "),o("el-select",{staticStyle:{width:"150px","vertical-align":"middle"},attrs:{size:"small",placeholder:"请选择购买意向"},model:{value:e.formFilter.purchase_intention,callback:function(t){e.$set(e.formFilter,"purchase_intention",t)},expression:"formFilter.purchase_intention"}},[o("el-option",{attrs:{label:"所有购买意向",value:""}}),e._v(" "),e._l(e.purchase_intention,function(e){return o("el-option",{key:e.value_id,attrs:{label:e.value_name,value:e.value_id}})})],2)],1),e._v(" "),o("el-col",{staticClass:"text-right",attrs:{span:12}},[o("el-button-group",{staticStyle:{float:"right","margin-right":"10px"}},[o("el-button",{attrs:{size:"small",type:"default",onclick:"alert('即将上线')",icon:"el-icon-web-heart"}},[e._v("关怀客户")]),e._v(" "),o("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:function(t){e.dialogOldAdd=!0}}},[e._v("新增")])],1),e._v(" "),o("el-button-group",{staticStyle:{float:"right","margin-right":"10px"}},[o("a",{staticClass:"el-button el-button--success el-button--small",attrs:{href:this.$https.defaults.baseURL+"/api/Customer_excel/ExportTemplate",target:"_blank"}},[o("i",{staticClass:"el-icon-web-download"}),e._v(" 下载导入模板")]),e._v(" "),o("el-button",{attrs:{type:"primary",icon:"el-icon-web-upload",size:"small"},on:{click:function(t){e.Importcustomer()}}},[e._v("导入老客户")])],1)],1)],1),e._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData},on:{"selection-change":e.handleSelectionChange}},[o("el-table-column",{attrs:{type:"selection",width:"55",prop:"c_id"}}),e._v(" "),o("el-table-column",{attrs:{prop:"c_id",label:"ID",width:"55"}}),e._v(" "),o("el-table-column",{attrs:{prop:"enterprise_name",label:"公司名称"}}),e._v(" "),o("el-table-column",{attrs:{label:"客户姓名"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("a",{attrs:{href:"javascript:;"},on:{click:function(o){e.openDetails(t.row.c_id)}}},[e._v(e._s(t.row.customer_name))])]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"telephone",label:"联系电话"}}),e._v(" "),o("el-table-column",{attrs:{label:"客户分类"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(e.getDicVals(t.row.classification,"classification"))+"\n                ")]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"transactions_num",label:"成交次数"}}),e._v(" "),o("el-table-column",{attrs:{prop:"created_time",label:"创建时间"}}),e._v(" "),o("el-table-column",{attrs:{label:"操作",width:"480"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(o){e.cluesEdit(t.row.c_id)}}},[e._v("编辑")]),e._v(" "),o("el-button",{attrs:{size:"mini",type:"warning",plain:""},on:{click:function(o){e.FollowUp(t.row.c_id,t.row.customer_name,t.row.purchase_intention)}}},[e._v("跟进记录")]),e._v(" "),o("el-button",{attrs:{size:"mini",onclick:"alert('即将上线')",plain:""}},[e._v("文档记录")]),e._v(" "),o("el-button",{attrs:{size:"mini",onclick:"alert('即将上线')",plain:""}},[e._v("销售记录")]),e._v(" "),o("el-button",{attrs:{size:"mini",type:"success",plain:""},on:{click:function(o){e.oldToChance(t.row.c_id)}}},[e._v("转机会客户")])]}}])})],1),e._v(" "),o("div",{staticClass:"text-center m-t"},[e.dataTotal>10?o("el-pagination",{attrs:{"current-page":e.pageIndex,"page-sizes":[10,15,20,30],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.dataTotal},on:{"size-change":e.pageSizeChange,"current-change":e.pageIndexChange}}):e._e()],1)],1),e._v(" "),e.dialogOldAdd?o("el-dialog",{attrs:{title:"新增老客户",visible:e.dialogOldAdd,"append-to-body":"",width:"1000px"},on:{"update:visible":function(t){e.dialogOldAdd=t}}},[o("OldAdd",{on:{closeDialog:e.closeDialog,parentGetDataList:e.getDataList}})],1):e._e(),e._v(" "),e.dialogOldEdit?o("el-dialog",{attrs:{title:"编辑老客户",visible:e.dialogOldEdit,"append-to-body":"",width:"1000px"},on:{"update:visible":function(t){e.dialogOldEdit=t}}},[o("OldAdd",{attrs:{id:e.editId},on:{closeDialog:e.closeDialog,parentGetDataList:e.getDataList}})],1):e._e(),e._v(" "),e.dialogFollowUp?o("el-dialog",{attrs:{title:"跟进记录",visible:e.dialogFollowUp,"append-to-body":"",width:"900px"},on:{"update:visible":function(t){e.dialogFollowUp=t}}},[o("FollowUp",{attrs:{followData:e.FollowUpObj,isIntention:!1},on:{closeDialog:e.closeDialog,parentGetDataList:e.getDataList}})],1):e._e(),e._v(" "),e.dialogOldToChance?o("el-dialog",{attrs:{title:"老客户转机会客户",visible:e.dialogOldToChance,"append-to-body":"",width:"900px"},on:{"update:visible":function(t){e.dialogOldToChance=t}}},[o("OldToChance",{attrs:{id:e.editId},on:{closeDialog:e.closeDialog,parentGetDataList:e.getDataList}})],1):e._e(),e._v(" "),e.dialogDetails?o("el-dialog",{attrs:{title:"客户详情",visible:e.dialogDetails,"append-to-body":"",width:"1000px"},on:{"update:visible":function(t){e.dialogDetails=t}}},[o("Details",{attrs:{id:e.editId},on:{closeDialog:e.closeDialog}})],1):e._e(),e._v(" "),e.dialogImportcustomer?o("el-dialog",{attrs:{title:"导入老客户",visible:e.dialogImportcustomer,"append-to-body":"",width:"400px"},on:{"update:visible":function(t){e.dialogImportcustomer=t}}},[o("Importcustomer",{on:{closeDialog:e.closeDialog,parentGetDataList:e.getDataList}})],1):e._e()],1)},staticRenderFns:[]};var x=o("Aizv")(w,$,!1,function(e){o("2cPT")},"data-v-42a65819",null);t.default=x.exports}});
//# sourceMappingURL=6.5803204eaa328f3a19b9.js.map