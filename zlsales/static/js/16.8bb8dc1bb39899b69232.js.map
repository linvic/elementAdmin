{"version":3,"sources":["webpack:///src/pages/Estate/Guide.vue","webpack:///./src/pages/Estate/Guide.vue?fe0a","webpack:///./src/pages/Estate/Guide.vue"],"names":["Guide","required","message","trigger","building_init","floor_init","roomList_init","_this2","this","reload","building_lymc","building_name","table_item","_this3","_this4","data","id","text","floor_lcmc","_this5","_this6","j","_iteratorNormalCompletion","item","_step","value","value_id","buildingIds","room_start","_iteratorNormalCompletion2","_step2","value_name","_this7","Date","getFullYear","getDate","day","_this8","_this9","project_id","then","result","Estate_Guide","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","slot","_v","active","step","simple","finish-status","process-status","title","icon","ref","model","project_form","status-icon","rules","project_rules","label-width","span","label","prop","callback","$$v","$set","expression","nativeOn","keyup","$event","onkeyupPlusInt","type","on","click","project_submit","_e","building_rules","inline","building_form","_s","building_amount","staticStyle","width","building_Table","building_submit","floor_rules","floor_form","floor_amount","floor_Table","floor_submit","room_rules","room_form","change","GetFloorsTree","_l","key","name","index","onkeyupPrice","room_Table","room_submit","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/16.8bb8dc1bb39899b69232.js","sourcesContent":["<template>\r\n    <div>\r\n        <el-card>\r\n            <div slot=\"header\" class=\"clearfix\">\r\n                <span>房产向导</span>\r\n            </div>\r\n            <el-steps :active=\"step\" simple finish-status=\"wait\" process-status=\"finish\">\r\n                <el-step title=\"新增项目(房产)\" icon=\"el-icon-web-1\"></el-step>\r\n                <el-step title=\"新增楼宇\" icon=\"el-icon-web-2\"></el-step>\r\n                <el-step title=\"楼层信息\" icon=\"el-icon-web-3\"></el-step>\r\n                <el-step title=\"房间信息\" icon=\"el-icon-web-4\"></el-step>\r\n            </el-steps>\r\n            <el-form ref=\"project_form\" :model=\"project_form\" status-icon :rules=\"project_rules\" label-width=\"100px\" v-if=\"step === 0\">\r\n                <h3 class=\"form_title\">输入房产的基本信息</h3>\r\n\r\n                <el-row>\r\n                    <el-col :span=\"12\">\r\n                        <el-form-item label=\"项目编码\" prop=\"project_code\">\r\n                            <el-input v-model=\"project_form.project_code\"></el-input>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                    <el-col :span=\"12\">\r\n                        <el-form-item label=\"项目名称\" prop=\"project_name\">\r\n                            <el-input v-model=\"project_form.project_name\"></el-input>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                </el-row>\r\n                <el-row>\r\n                    <el-col :span=\"12\">\r\n                        <el-form-item label=\"楼宇数量\" prop=\"building_amount\">\r\n                            <el-input v-model=\"project_form.building_amount\" @keyup.native=\"onkeyupPlusInt($event)\"></el-input>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                </el-row>\r\n\r\n                <el-form-item>\r\n                    <el-button type=\"primary\" @click=\"project_submit('save')\">完成</el-button>\r\n                    <el-button @click=\"project_submit('next')\">保存并下一步</el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n            <div v-if=\"step === 1\">\r\n                <el-form ref=\"building_form\" :rules=\"building_rules\" :inline=\"true\" :model=\"building_form\">\r\n                    <h3 class=\"form_title\">配置楼宇信息</h3>\r\n\r\n                    <el-row>\r\n                        <el-col :span=\"12\">\r\n                            \r\n                            <el-form-item label=\"楼宇数量：\">\r\n                                <span>{{ project_form.building_amount }}</span>\r\n                            </el-form-item>\r\n                            <el-form-item label=\"楼层数量：\" prop=\"floor_amount\">\r\n                                <el-input v-model=\"building_form.floor_amount\" @keyup.native=\"onkeyupPlusInt($event)\" style=\"width: 100px\"></el-input>\r\n                            </el-form-item>\r\n                            <el-form-item>\r\n                                 提示：楼宇名称或楼层数量为空的记录将不能被保存！\r\n                            </el-form-item>\r\n                        </el-col>\r\n                        <el-col :span=\"12\" class=\"text-right\">\r\n                            <el-form-item label=\"编码格式：\">\r\n                                <el-select v-model=\"building_form.building_bmgs\">\r\n                                    <el-option label=\"B-1,B-2...B-99\" value=\"A\"></el-option>\r\n                                    <el-option label=\"001,002...0099\" value=\"B\"></el-option>\r\n                                    <el-option label=\"W-1,W-2...W-99\" value=\"C\"></el-option>\r\n                                    <el-option label=\"G-1,G-2...G-99\" value=\"D\"></el-option>\r\n                                    <el-option label=\"1,2...999\" value=\"E\"></el-option>\r\n                                </el-select>\r\n                            </el-form-item>\r\n                            <el-form-item label=\"楼宇名称：\">\r\n                                <el-select v-model=\"building_form.building_lymc\">\r\n                                    <el-option label=\"第1栋,第2栋...第99栋\" value=\"A\"></el-option>\r\n                                    <el-option label=\"1号楼,2号楼...99号楼\" value=\"B\"></el-option>\r\n                                    <el-option label=\"1号仓,2号仓...99号仓\" value=\"C\"></el-option>\r\n                                    <el-option label=\"1号库,2号库...99号库\" value=\"D\"></el-option>\r\n                                    <el-option label=\"1号厂房,2号厂房...99号厂房\" value=\"E\"></el-option>\r\n                                </el-select>\r\n                            </el-form-item>\r\n                        </el-col>\r\n                    </el-row>\r\n                </el-form>\r\n                <el-table :data=\"building_Table\" style=\"width: 100%\">\r\n                    <el-table-column prop=\"id\" label=\"序号\"></el-table-column>\r\n                    <el-table-column prop=\"building_code\" label=\"楼宇编码\" width=\"180\"></el-table-column>\r\n                    <el-table-column prop=\"building_name\" label=\"楼宇证件名称\"></el-table-column>\r\n                    <el-table-column prop=\"building_alias_name\" label=\"楼宇运营名称\"></el-table-column>\r\n                    <el-table-column prop=\"floor_amount\" label=\"楼层数量\"></el-table-column>\r\n                    <el-table-column prop=\"capped\" label=\"封顶日期\"></el-table-column>\r\n                    <el-table-column prop=\"completion\" label=\"竣工日期\"></el-table-column>\r\n                    <el-table-column prop=\"presale_permit\" label=\"预售许可证\"></el-table-column>\r\n                    <el-table-column prop=\"building_permit\" label=\"建筑许可证\"></el-table-column>\r\n                    <el-table-column prop=\"building_area\" label=\"建筑面积\"></el-table-column>\r\n                    <el-table-column prop=\"usable_area\" label=\"使用面积\"></el-table-column>\r\n                    <el-table-column prop=\"remark\" label=\"备注\"></el-table-column>\r\n                </el-table>\r\n                <div class=\"m-t\">\r\n                    <el-button type=\"primary\" @click=\"building_submit('save')\">完成</el-button>\r\n                    <el-button @click=\"building_submit('next')\">保存并下一步</el-button>\r\n                </div>\r\n            </div>\r\n            <div v-if=\"step === 2\">\r\n                <el-form ref=\"floor_form\" :rules=\"floor_rules\" :inline=\"true\" :model=\"floor_form\">\r\n                    <h3 class=\"form_title\">配置楼层信息</h3>\r\n\r\n                    <el-row>\r\n                        <el-col :span=\"12\">\r\n                            \r\n                            <el-form-item label=\"楼层数量：\">\r\n                                <span>{{ building_form.floor_amount }}</span>\r\n                            </el-form-item>\r\n                            <el-form-item label=\"开始房号：\" prop=\"room_start\">\r\n                                <el-input v-model=\"floor_form.room_start\" @keyup.native=\"onkeyupPlusInt($event)\" style=\"width: 100px\"></el-input>\r\n                            </el-form-item>\r\n                            <el-form-item label=\"结束房号：\" prop=\"room_end\">\r\n                                <el-input v-model=\"floor_form.room_end\" @keyup.native=\"onkeyupPlusInt($event)\" style=\"width: 100px\"></el-input>\r\n                            </el-form-item>\r\n                        </el-col>\r\n                        <el-col :span=\"12\" class=\"text-right\">\r\n                            <el-form-item label=\"编码格式：\">\r\n                                <el-select v-model=\"floor_form.floor_bmgs\">\r\n                                    <el-option label=\"F-1,F-2...F-9\" value=\"A\"></el-option>\r\n                                    <el-option label=\"001,002...009\" value=\"B\"></el-option>\r\n                                </el-select>\r\n                            </el-form-item>\r\n                            <el-form-item label=\"楼层名称：\">\r\n                                <el-select v-model=\"floor_form.floor_lcmc\">\r\n                                    <el-option label=\"第1层,第2层...第99层\" value=\"A\"></el-option>\r\n                                    <el-option label=\"1楼,2楼...99楼\" value=\"B\"></el-option>\r\n                                </el-select>\r\n                            </el-form-item>\r\n                        </el-col>\r\n                    </el-row>\r\n                </el-form>\r\n                <el-table :data=\"floor_Table\" style=\"width: 100%\">\r\n                    <el-table-column prop=\"id\" label=\"序号\"></el-table-column>\r\n\r\n                    <el-table-column prop=\"building_code\" label=\"楼宇编码\"></el-table-column>\r\n                    <el-table-column prop=\"floor_code\" label=\"楼层编码\" width=\"180\"></el-table-column>\r\n                    <el-table-column prop=\"floor_name\" label=\"楼层名称\"></el-table-column>\r\n                    <el-table-column prop=\"room_start\" label=\"开始房号\"></el-table-column>\r\n                    <el-table-column prop=\"room_end\" label=\"结束房号\"></el-table-column>\r\n                    <el-table-column prop=\"remark\" label=\"备注\"></el-table-column>\r\n                </el-table>\r\n                <div class=\"m-t\">\r\n                    <el-button type=\"primary\" @click=\"floor_submit('save')\">完成</el-button>\r\n                    <el-button @click=\"floor_submit('next')\">保存并下一步</el-button>\r\n                </div>\r\n            </div>\r\n            <div v-if=\"step === 3\">\r\n                <el-form ref=\"room_form\" :rules=\"room_rules\" :inline=\"true\" :model=\"room_form\">\r\n                    <h3 class=\"form_title\">配置房间信息</h3>\r\n                    <el-row>\r\n                        <el-col :span=\"24\">\r\n                            <el-form-item label=\"选择楼宇：\">\r\n                                <el-select v-model=\"room_form.buildingIds\" @change=\"GetFloorsTree(room_form.buildingIds)\">\r\n                                    <el-option v-for=\"item in buildingId\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\"></el-option>\r\n                                </el-select>\r\n                            </el-form-item>\r\n                            <el-form-item label=\"选择楼层：\">\r\n                                <el-select v-model=\"room_form.floorIds\">\r\n                                    <el-option v-for=\"(item, index) in floorId\" :key=\"item.id\" :label=\"item.text\" :value=\"index+1\"></el-option>\r\n                                </el-select>\r\n                            </el-form-item>\r\n                            <el-form-item label=\"建筑面积：\" prop=\"built_area\">\r\n                                <el-input v-model=\"room_form.built_area\" @keyup.native=\"onkeyupPrice($event)\" style=\"width: 100px\"></el-input>\r\n                            </el-form-item>\r\n                            <el-form-item label=\"使用面积：\" prop=\"usable_area\">\r\n                                <el-input v-model=\"room_form.usable_area\" @keyup.native=\"onkeyupPrice($event)\" style=\"width: 100px\"></el-input>\r\n                            </el-form-item>\r\n                            <el-form-item label=\"房间功能：\" prop=\"room_feature\">\r\n                                <el-select v-model=\"room_form.room_feature\">\r\n                                    <el-option v-for=\"item in estate_roomfunc\" :key=\"item.value_id\" :label=\"item.value_name\" :value=\"item.value_id\"></el-option>\r\n                                </el-select>\r\n                            </el-form-item>\r\n                            <el-form-item label=\"指导单价(元/平米)：\" prop=\"guide_price\">\r\n                                <el-input v-model=\"room_form.guide_price\" @keyup.native=\"onkeyupPrice($event)\" style=\"width: 100px\"></el-input>\r\n                            </el-form-item>\r\n                        </el-col>\r\n                    </el-row>\r\n                </el-form>\r\n                <el-table :data=\"room_Table\" style=\"width: 100%\">\r\n                    <el-table-column prop=\"id\" label=\"序号\"></el-table-column>\r\n                    <el-table-column prop=\"floor_num\" label=\"楼层数\"></el-table-column>\r\n                    <el-table-column prop=\"room_code\" label=\"房间编码\" width=\"180\"></el-table-column>\r\n                    <el-table-column prop=\"room_name\" label=\"房间名称\"></el-table-column>\r\n                    <el-table-column prop=\"built_area\" label=\"建筑面积(平米)\"></el-table-column>\r\n                    <el-table-column prop=\"usable_area\" label=\"使用面积(平米)\"></el-table-column>\r\n                    <el-table-column prop=\"room_feature\" label=\"房间功能\"></el-table-column>\r\n                    <el-table-column prop=\"guide_price\" label=\"指导单价(元/平米)\"></el-table-column>\r\n                    <el-table-column prop=\"remark\" label=\"备注\"></el-table-column>\r\n                </el-table>\r\n                <div class=\"m-t\">\r\n                    <el-button type=\"primary\" @click=\"room_submit()\">完成向导</el-button>\r\n                </div>\r\n            </div>\r\n        </el-card>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    components: {\r\n    },\r\n    data () {\r\n        return {\r\n            step: 0, // 步骤\r\n            project_id: 0, // 项目ID\r\n            buildingId: [], // 楼宇ID\r\n            floorId: [], // 楼层ID\r\n            project_form: {\r\n                project_code: '',\r\n                project_name: '',\r\n                building_amount: ''\r\n            },\r\n            project_rules: {\r\n                project_code: [\r\n                    { required: true, message: '请填写', trigger: 'blur' }\r\n                ],\r\n                project_name: [\r\n                    { required: true, message: '请填写', trigger: 'blur' }\r\n                ],\r\n                building_amount: [\r\n                    { required: true, message: '请填写', trigger: 'blur' }\r\n                ]\r\n            },\r\n            building_form: {\r\n                floor_amount: '',\r\n                building_bmgs: 'A',\r\n                building_lymc: 'A'\r\n            },\r\n            building_rules: {\r\n                floor_amount: [\r\n                    { required: true, message: '请填写', trigger: 'blur' }\r\n                ]\r\n            },\r\n            building_Table: [],\r\n            floor_form: {\r\n                room_start: 1,\r\n                room_end: 1,\r\n                floor_bmgs: 'A',\r\n                floor_lcmc: 'A'\r\n            },\r\n            floor_rules: {\r\n                room_start: [\r\n                    { required: true, message: '请填写', trigger: 'blur' }\r\n                ],\r\n                room_end: [\r\n                    { required: true, message: '请填写', trigger: 'blur' }\r\n                ]\r\n            },\r\n            floor_Table: [],\r\n            estate_roomfunc: [],\r\n            room_form: {\r\n                buildingIds: '',\r\n                floorIds: '',\r\n                built_area: 0,\r\n                usable_area: 0,\r\n                room_feature: '',\r\n                guide_price: ''\r\n            },\r\n            room_rules: {\r\n                built_area: [\r\n                    { required: true, message: '请填写', trigger: 'blur' }\r\n                ],\r\n                usable_area: [\r\n                    { required: true, message: '请填写', trigger: 'blur' }\r\n                ],\r\n                room_feature: [\r\n                    { required: true, message: '请选择', trigger: 'change' }\r\n                ],\r\n                guide_price: [\r\n                    { required: true, message: '请填写', trigger: 'blur' }\r\n                ]\r\n            },\r\n            room_Table: [],\r\n            floorsObj: []\r\n        }\r\n    },\r\n    created() {\r\n    },\r\n    watch: {\r\n        building_form: {\r\n            handler(newVal, oldVal) {\r\n                this.building_init();\r\n            },\r\n            deep: true\r\n        },\r\n        floor_form: {\r\n            handler(newVal, oldVal) {\r\n                this.floor_init();\r\n            },\r\n            deep: true\r\n        },\r\n        room_form: {\r\n            handler(newVal, oldVal) {\r\n                this.roomList_init();\r\n            },\r\n            deep: true\r\n        }\r\n    },\r\n    methods: {\r\n        project_submit(_submitType) {\r\n            \r\n            this.$refs['project_form'].validate((valid) => {\r\n                if (valid) {\r\n\r\n                    let _postData = {\r\n                        project_code: this.project_form.project_code, // 项目编码\r\n                        project_name: this.project_form.project_name, // 项目名称\r\n                        building_amount: this.project_form.building_amount, // 楼宇数量\r\n                        total_area: 0, // 占地面积\r\n                        built_area: 0, // 建筑面积\r\n                        green_space: 0, // 绿地面积\r\n                        road_space: 0, // 道路面积\r\n                        charge: \"\", // 负责人\r\n                        project_addr: \"\", // 项目地址\r\n                        dev_company: \"\", // 开发商 公司名称\r\n                        dev_legal: \"\", // 开发商 法人代表\r\n                        dev_contact: \"\", // 开发商 联系人\r\n                        dev_mobile: \"\", // 开发商 联系电话\r\n                        dev_addr: \"\", // 开发商 联系地址\r\n                        remark: \"\", // 开发商 备注\r\n                    }\r\n                    this.$https.post('/api/pms_base_projects/AppendProject', _postData).then((result) => {\r\n                        if (result.data.code == 0) {\r\n                            if (_submitType == 'save') {\r\n                                // 关闭当前步骤，刷新页面\r\n                                this.$message({\r\n                                    type: 'success',\r\n                                    showClose: true,\r\n                                    message: '成功创建项目!',\r\n                                    duration: 1500,\r\n                                    onClose: () => {\r\n                                        window.location.reload();\r\n                                    }\r\n                                })\r\n                            } else {\r\n                                // 保存并下一步\r\n                                this.project_id = result.data.data; // 保存创建的项目ID\r\n                                this.$message({\r\n                                    type: 'success',\r\n                                    showClose: true,\r\n                                    message: '成功创建项目，您将继续新增楼宇信息',\r\n                                    duration: 1500\r\n                                })\r\n                                this.step = 1;\r\n                                this.building_init(); // 执行 building_init\r\n                                }\r\n                        } else {\r\n                            this.$message({\r\n                                type: 'error',\r\n                                showClose: true,\r\n                                message: result.data.message\r\n                            })\r\n                        }\r\n                    })\r\n                    \r\n                } else {\r\n                    console.error('验证不通过');\r\n                    return false;\r\n                }\r\n            })\r\n        },\r\n        building_init() { // 第二步初始化\r\n            var table_item = [];\r\n            for (var i = 0; i < this.project_form.building_amount; i++) {\r\n                table_item[i] = {\r\n                    id: i + 1,\r\n                    building_code: '', // 楼宇编码\r\n                    building_name: '', // 楼宇证件名称\r\n                    building_alias_name: '', // 楼宇运营名称\r\n                    floor_amount: this.building_form.floor_amount, // 楼层数量\r\n                    building_function: 0, // 楼宇功能\r\n                    building_structure: 0, // 结构类别\r\n                    building_decoration: 0, // 装修标准\r\n                    building_damage: 0, // 完损等级\r\n                    capped: this.getNewDay(), // 预售许可证日期\r\n                    completion: this.getNewDay(), // 竣工日期\r\n                    presale_permit: '', // 预售许可证\r\n                    building_permit: '', // 建筑许可证\r\n                    building_area: 0, // 建筑面积\r\n                    public_area: 0, // 公摊面积\r\n                    usable_area: 0, // 使用面积\r\n                    remark: '' // 备注\r\n                }\r\n                switch (this.building_form.building_bmgs) { // 楼宇编码\r\n                    case 'A':\r\n                        table_item[i].building_code = 'B-' + (i + 1);\r\n                        break;\r\n                    case 'B':\r\n                        table_item[i].building_code = '00' + (i + 1);\r\n                        break;\r\n                    case 'C':\r\n                        table_item[i].building_code = 'W-' + (i + 1);\r\n                        break;\r\n                    case 'D':\r\n                        table_item[i].building_code = 'G-' + (i + 1);\r\n                        break;\r\n                    case 'E':\r\n                        table_item[i].building_code = '' + (i + 1);\r\n                        break;\r\n                }\r\n                switch (this.building_form.building_lymc) {\r\n                    case 'A': \r\n                        table_item[i].building_name = '第' + (i + 1) + '栋'; // 楼宇名称\r\n                        break;\r\n                    case 'B':\r\n                        table_item[i].building_name = (i + 1) + '号楼'; // 楼宇名称\r\n                        break;\r\n                    case 'C':\r\n                        table_item[i].building_name = (i + 1) + '号仓'; // 楼宇名称\r\n                        break;\r\n                    case 'D':\r\n                        table_item[i].building_name = (i + 1) + '号库'; // 楼宇名称\r\n                        break;\r\n                    case 'E':\r\n                        table_item[i].building_name = (i + 1) + '号厂房'; // 楼宇名称\r\n                        break;\r\n                }\r\n                table_item[i].building_alias_name = table_item[i].building_name;\r\n            }\r\n            this.building_Table = table_item;\r\n        },\r\n        building_submit(_submitType) {\r\n\r\n            this.$refs['building_form'].validate((valid) => {\r\n                if (valid) {\r\n\r\n                    let _postData = {\r\n                        project_id: this.project_id, // 项目ID\r\n                        buildings: this.building_Table, // 项目名称\r\n                    }\r\n                    this.$https.post('/api/pms_base_buildings/AppendBuilding', _postData).then((result) => {\r\n                        if (result.data.code == 0) {\r\n                            if (_submitType == 'save') {\r\n                                // 关闭当前步骤，到第一，刷新页面\r\n                                this.$message({\r\n                                    type: 'success',\r\n                                    showClose: true,\r\n                                    message: '成功创建楼宇!',\r\n                                    duration: 1500,\r\n                                    onClose: () => {\r\n                                        this.step = 1;\r\n                                        window.location.reload();\r\n                                    }\r\n                                })\r\n                            } else {\r\n                                // 保存并下一步\r\n                                this.$message({\r\n                                    type: 'success',\r\n                                    showClose: true,\r\n                                    message: '成功创建楼宇，您将继续新增楼层信息',\r\n                                    duration: 1500\r\n                                })\r\n                                this.step = 2;\r\n                                this.floor_init(); // 执行 floor_init\r\n                                }\r\n                        } else {\r\n                            this.$message({\r\n                                type: 'error',\r\n                                showClose: true,\r\n                                message: result.data.message\r\n                            })\r\n                        }\r\n                    })\r\n                    \r\n                } else {\r\n                    console.error('验证不通过');\r\n                    return false;\r\n                }\r\n            })\r\n        },\r\n        floor_init() {\r\n            this.$https.get('/api/pms_base_buildings/GetBuildingsTree?project_id=' + this.project_id).then((result) => {\r\n                if (result.data.code == 0) {\r\n                    let _data = result.data.data;\r\n                    for (var k = 0; k < _data.length; k++) {\r\n                        this.buildingId[k] = {\r\n                            id: _data[k].id,\r\n                            name: _data[k].text\r\n                        }\r\n                    }\r\n\r\n                    var table_item = [];\r\n                    for (var i = 0; i < this.project_form.building_amount; i++) {\r\n                        for (var j = 0; j < this.building_form.floor_amount; j++) {\r\n\r\n                            table_item[i * this.building_form.floor_amount + j] = {\r\n                                id: i * this.building_form.floor_amount + j + 1,\r\n                                building_id: this.buildingId[i].id, // 项目Id\r\n                                building_code: this.building_Table[i].building_code, // 楼宇编码\r\n                                floor_code: '', // 楼层编码\r\n                                floor_name: '', // 楼层名称\r\n                                floor_start: 1, // 开始楼层\r\n                                floor_end: this.building_form.floor_amount, // 结束楼层\r\n                                room_start: this.floor_form.room_start, // 开始房号\r\n                                room_end: this.floor_form.room_end, // 结束房号\r\n                                remark: \"\" // 备注\r\n                            }\r\n\r\n                            switch (this.floor_form.floor_bmgs) { // 楼宇编码\r\n                                case 'A':\r\n                                    table_item[i * this.building_form.floor_amount + j].floor_code = 'F-' + (j + 1);\r\n                                    break;\r\n                                case 'B':\r\n                                    table_item[i * this.building_form.floor_amount + j].floor_code = '00' + (j + 1);\r\n                                    break;\r\n                            }\r\n                            switch (this.floor_form.floor_lcmc) {\r\n                                case 'A': \r\n                                    table_item[i * this.building_form.floor_amount + j].floor_name = '第' + (j + 1) + '层'; // 楼宇名称\r\n                                    break;\r\n                                case 'B':\r\n                                    table_item[i * this.building_form.floor_amount + j].floor_name = (j + 1) + '楼'; // 楼宇名称\r\n                                    break;\r\n                            }\r\n                        }\r\n                    }\r\n                    this.floor_Table = table_item;\r\n\r\n                } else {\r\n                    this.$message({\r\n                        type: 'error',\r\n                        showClose: true,\r\n                        message: result.data.message\r\n                    })\r\n                }\r\n            })\r\n        },\r\n        floor_submit(_submitType) {\r\n            \r\n            this.$refs['floor_form'].validate((valid) => {\r\n                if (valid) {\r\n\r\n                    let _postData = {\r\n                        project_id: this.project_id, // 项目ID\r\n                        floors: this.floor_Table, // \r\n                    }\r\n                    this.$https.post('/api/pms_base_floors/UpdateFloor', _postData).then((result) => {\r\n                        if (result.data.code == 0) {\r\n                            if (_submitType == 'save') {\r\n                                // 关闭当前步骤，到第一，刷新页面\r\n                                this.$message({\r\n                                    type: 'success',\r\n                                    showClose: true,\r\n                                    message: '成功创建楼层!',\r\n                                    duration: 1500,\r\n                                    onClose: () => {\r\n                                        this.step = 1;\r\n                                        window.location.reload();\r\n                                    }\r\n                                })\r\n                            } else {\r\n                                // 保存并下一步\r\n                                this.$message({\r\n                                    type: 'success',\r\n                                    showClose: true,\r\n                                    message: '成功创建楼层，您将继续新增房间信息',\r\n                                    duration: 1500\r\n                                })\r\n                                this.step = 3;\r\n                                this.room_init(); // 执行 room_init\r\n                                }\r\n                        } else {\r\n                            this.$message({\r\n                                type: 'error',\r\n                                showClose: true,\r\n                                message: result.data.message\r\n                            })\r\n                        }\r\n                    })\r\n                    \r\n                } else {\r\n                    console.error('验证不通过');\r\n                    return false;\r\n                }\r\n            })\r\n        },\r\n        room_init() {\r\n            // 获取数据 - 提交需要用到\r\n            for (var j = 0; j < this.project_form.building_amount; j++) { // 遍历楼宇\r\n                this._getFloorsTree(j);\r\n            }\r\n            var _this = this;\r\n            // 获取字典 - 房产 - 房间功能\r\n            this.$https.get('/api/Dicts/GetValues?type_code=pms_type_roomfunc').then((result) => {\r\n                if (result.data.code == 0) {\r\n                    this.estate_roomfunc = result.data.data;\r\n                    // 设置字典默认值\r\n                    for (var item of this.estate_roomfunc) {\r\n                        if (item.is_default === 1) {\r\n                            this.room_form.room_feature = item.value_id;\r\n                        }\r\n                    }\r\n                } else {\r\n                    this.$message({\r\n                        type: 'error',\r\n                        showClose: true,\r\n                        message: result.data.message\r\n                    })\r\n                }\r\n            })\r\n            // 设置楼宇默认值\r\n            this.room_form.buildingIds = this.buildingId[0].id;\r\n            this.GetFloorsTree(this.room_form.buildingIds);\r\n        },\r\n        // 房间列表\r\n        roomList_init() {\r\n\r\n            var roomNum = Number(this.floor_form.room_end) - Number(this.floor_form.room_start);\r\n            var table_item = [];\r\n            for (var i = 0; i <= roomNum; i++) {\r\n\r\n                table_item[i] = {\r\n                    id: i + 1,\r\n                    floor_num: this.building_form.floor_amount, // 楼层数量\r\n                    room_code: this.room_form.floorIds + '0' + (this.floor_form.room_start + i), // 房间编码\r\n                    room_name: this.room_form.floorIds + '0' + (this.floor_form.room_start + i) + '房', // 房间名称\r\n                    built_area: this.room_form.built_area, // 兼职面积\r\n                    usable_area: this.room_form.usable_area, // 使用面积\r\n                    room_feature: this.getDicVal(this.room_form.room_feature, this.estate_roomfunc), // 房间功能\r\n                    guide_price: this.room_form.guide_price, // 单价\r\n                    remark: \"\" // 备注\r\n                }\r\n            }\r\n            this.room_Table = table_item;\r\n        },\r\n        getDicVal(key, dic){\r\n            let text = '';\r\n            for(var item of dic) {\r\n                if (key == item.value_id) {\r\n                    text = item.value_name;\r\n                }\r\n            }\r\n            return text;\r\n        },\r\n        room_submit() {\r\n            \r\n            this.$refs['room_form'].validate((valid) => {\r\n                if (valid) {\r\n\r\n                    let _roomList = []; // 存放房间list\r\n                    let _floorId = []; // 存放楼层信息\r\n                    let _buildingAmount = this.project_form.building_amount; // 楼宇数量\r\n                    let _floorAmount = this.building_form.floor_amount; // 楼层数量\r\n\r\n                    let _room_startNum = this.floor_form.room_start; // 开始房号\r\n                    let _room_endNum = this.floor_form.room_end; // 结束\r\n                    let _roomAmount = _room_endNum - _room_startNum + 1;\r\n\r\n                    let _this = this;\r\n                    \r\n                    for (var j = 0; j < _buildingAmount; j++) { // 遍历楼宇\r\n                        \r\n\r\n                        _floorId = [];\r\n                        let _data = this.floorsObj[j];\r\n                        for (var k = 0; k < _data.length; k++) {\r\n                            _floorId[k] = {\r\n                                id: _data[k].id,\r\n                                text: _data[k].text\r\n                            }\r\n                        }\r\n                        for (var k = 0; k < _floorAmount; k++) {\r\n\r\n                            for (var m = _room_startNum; m <= _room_endNum; m++) {\r\n\r\n                                // 拼房间全名 full_name ： code开始\r\n                                let _all_name = this.project_form.project_name + '#';\r\n                                switch (this.building_form.building_lymc) {\r\n                                    case 'A': \r\n                                        _all_name += '第' + (j + 1) + '栋#'; // 楼宇名称\r\n                                        break;\r\n                                    case 'B':\r\n                                        _all_name += (j + 1) + '号楼#'; // 楼宇名称\r\n                                        break;\r\n                                    case 'C':\r\n                                        _all_name += (j + 1) + '号仓#'; // 楼宇名称\r\n                                        break;\r\n                                    case 'D':\r\n                                        _all_name += (j + 1) + '号库#'; // 楼宇名称\r\n                                        break;\r\n                                    case 'E':\r\n                                        _all_name += (j + 1) + '号厂房#'; // 楼宇名称\r\n                                        break;\r\n                                }\r\n                                switch (this.floor_form.floor_lcmc) {\r\n                                    case 'A': \r\n                                        _all_name += '第' + (k + 1) + '层#'; // 楼宇名称\r\n                                        break;\r\n                                    case 'B':\r\n                                        _all_name += (k + 1) + '楼#'; // 楼宇名称\r\n                                        break;\r\n                                }\r\n                                // 拼房间全名 full_name ： code结束\r\n\r\n                                _roomList[j * _floorAmount * _roomAmount + k * _roomAmount + (m - _room_startNum)] = {\r\n                                    building_id: this.buildingId[j].id,\r\n                                    floor_id: _floorId[k].id,\r\n                                    room_code: (k+1) + '0' + m,// 房间编码\r\n                                    room_name: (k+1) + '0' + m +'房', // 房间名称\r\n                                    full_name: _all_name + (k+1) + '0' + m +'房',\r\n                                    room_feature: this.room_form.room_feature, // 房间功能\r\n                                    num_floor: (k + 1), // 楼层数\r\n                                    built_area: this.room_form.built_area, // 建筑面积\r\n                                    usable_area: this.room_form.usable_area, // 使用面积\r\n                                    guide_price: this.room_form.guide_price, // 单价\r\n                                    room_decoration: 0, // 装修\r\n                                    room_unit: 0, // 户型\r\n                                    room_toward: 0, // 朝向\r\n                                    parking_area: 0, // 车位面积\r\n                                    garage_area: 0, // 车库面积\r\n                                    is_rented: 0, // 已租\r\n                                    is_sold: false, // 已售\r\n                                    room_length: 0, // 长度\r\n                                    room_width: 0, // 宽度\r\n                                    location: 0, // 区域\r\n                                    space_usage: 0, // 用途\r\n                                    property_type: 0, // 物业类型\r\n                                    room_nature: 0, // 房间性质\r\n                                    remark: \"\" // 备注\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    let _postData = {\r\n                        project_id: this.project_id, // 项目ID\r\n                        rooms: _roomList, // \r\n                    }\r\n                    \r\n                    this.$https.post('/api/pms_base_rooms/UpdateRoom', _postData).then((result) => {\r\n                        if (result.data.code == 0) {\r\n                            // 关闭当前步骤，到第一，刷新页面\r\n                            this.$message({\r\n                                type: 'success',\r\n                                showClose: true,\r\n                                message: '成功创建房间，您已完成批量新增向导!',\r\n                                duration: 1500,\r\n                                onClose: () => {\r\n                                    this.step = 1;\r\n                                    window.location.reload();\r\n                                }\r\n                            })\r\n                        } else {\r\n                            this.$message({\r\n                                type: 'error',\r\n                                showClose: true,\r\n                                message: result.data.message\r\n                            })\r\n                        }\r\n                    })\r\n                    \r\n                } else {\r\n                    console.error('验证不通过');\r\n                    return false;\r\n                }\r\n            })\r\n        },\r\n        getNewDay() { // 返回当天 如： 2018-08-08\r\n            var now = new Date();\r\n            var year = now.getFullYear();\r\n            var month = now.getMonth() + 1;\r\n            var day = now.getDate();\r\n            return year + '-' + (month < 10 ? '0' + month : month) + '-' + (day < 10 ? '0' + day : day);\r\n        },\r\n        GetFloorsTree(_buildId) {\r\n            this.$https.get('/api/pms_base_floors/GetFloorsTree?project_id=' + this.project_id + '&building_id=' + _buildId).then((result) => {\r\n                if (result.data.code == 0) {\r\n                    this.floorId = result.data.data;\r\n                    this.room_form.floorIds = 1; // 设置默认值\r\n                    this.roomList_init();\r\n                } else {\r\n                    this.$message({\r\n                        type: 'error',\r\n                        showClose: true,\r\n                        message: result.data.message\r\n                    })\r\n                }\r\n            })\r\n        },\r\n        _getFloorsTree(key) {\r\n            this.$https.get('/api/pms_base_floors/GetFloorsTree',{\r\n                params: {\r\n                    project_id: this.project_id,\r\n                    building_id: this.buildingId[key].id\r\n                }\r\n            }).then((result) => {\r\n                if (result.data.code == 0) {\r\n                    this.floorsObj[key] = result.data.data;\r\n                } else {\r\n                    this.$message({\r\n                        type: 'error',\r\n                        showClose: true,\r\n                        message: result.data.message\r\n                    })\r\n                }\r\n            })\r\n        }\r\n    },\r\n    computed: {\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    .form_title {\r\n        display: inline-block;\r\n        margin-top: 30px;\r\n        margin-bottom: 30px;\r\n        color: #666;\r\n        font-weight: normal;\r\n        padding-left: 5px;\r\n        border-left: 2px solid #4E97D9;\r\n        line-height: 1.2;\r\n    }\r\n    .gray_bg {\r\n        background: #ccc;\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/Estate/Guide.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-card',[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"房产向导\")])]),_vm._v(\" \"),_c('el-steps',{attrs:{\"active\":_vm.step,\"simple\":\"\",\"finish-status\":\"wait\",\"process-status\":\"finish\"}},[_c('el-step',{attrs:{\"title\":\"新增项目(房产)\",\"icon\":\"el-icon-web-1\"}}),_vm._v(\" \"),_c('el-step',{attrs:{\"title\":\"新增楼宇\",\"icon\":\"el-icon-web-2\"}}),_vm._v(\" \"),_c('el-step',{attrs:{\"title\":\"楼层信息\",\"icon\":\"el-icon-web-3\"}}),_vm._v(\" \"),_c('el-step',{attrs:{\"title\":\"房间信息\",\"icon\":\"el-icon-web-4\"}})],1),_vm._v(\" \"),(_vm.step === 0)?_c('el-form',{ref:\"project_form\",attrs:{\"model\":_vm.project_form,\"status-icon\":\"\",\"rules\":_vm.project_rules,\"label-width\":\"100px\"}},[_c('h3',{staticClass:\"form_title\"},[_vm._v(\"输入房产的基本信息\")]),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"项目编码\",\"prop\":\"project_code\"}},[_c('el-input',{model:{value:(_vm.project_form.project_code),callback:function ($$v) {_vm.$set(_vm.project_form, \"project_code\", $$v)},expression:\"project_form.project_code\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"项目名称\",\"prop\":\"project_name\"}},[_c('el-input',{model:{value:(_vm.project_form.project_name),callback:function ($$v) {_vm.$set(_vm.project_form, \"project_name\", $$v)},expression:\"project_form.project_name\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"楼宇数量\",\"prop\":\"building_amount\"}},[_c('el-input',{nativeOn:{\"keyup\":function($event){_vm.onkeyupPlusInt($event)}},model:{value:(_vm.project_form.building_amount),callback:function ($$v) {_vm.$set(_vm.project_form, \"building_amount\", $$v)},expression:\"project_form.building_amount\"}})],1)],1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.project_submit('save')}}},[_vm._v(\"完成\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.project_submit('next')}}},[_vm._v(\"保存并下一步\")])],1)],1):_vm._e(),_vm._v(\" \"),(_vm.step === 1)?_c('div',[_c('el-form',{ref:\"building_form\",attrs:{\"rules\":_vm.building_rules,\"inline\":true,\"model\":_vm.building_form}},[_c('h3',{staticClass:\"form_title\"},[_vm._v(\"配置楼宇信息\")]),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"楼宇数量：\"}},[_c('span',[_vm._v(_vm._s(_vm.project_form.building_amount))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"楼层数量：\",\"prop\":\"floor_amount\"}},[_c('el-input',{staticStyle:{\"width\":\"100px\"},nativeOn:{\"keyup\":function($event){_vm.onkeyupPlusInt($event)}},model:{value:(_vm.building_form.floor_amount),callback:function ($$v) {_vm.$set(_vm.building_form, \"floor_amount\", $$v)},expression:\"building_form.floor_amount\"}})],1),_vm._v(\" \"),_c('el-form-item',[_vm._v(\"\\n                             提示：楼宇名称或楼层数量为空的记录将不能被保存！\\n                        \")])],1),_vm._v(\" \"),_c('el-col',{staticClass:\"text-right\",attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"编码格式：\"}},[_c('el-select',{model:{value:(_vm.building_form.building_bmgs),callback:function ($$v) {_vm.$set(_vm.building_form, \"building_bmgs\", $$v)},expression:\"building_form.building_bmgs\"}},[_c('el-option',{attrs:{\"label\":\"B-1,B-2...B-99\",\"value\":\"A\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"001,002...0099\",\"value\":\"B\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"W-1,W-2...W-99\",\"value\":\"C\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"G-1,G-2...G-99\",\"value\":\"D\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"1,2...999\",\"value\":\"E\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"楼宇名称：\"}},[_c('el-select',{model:{value:(_vm.building_form.building_lymc),callback:function ($$v) {_vm.$set(_vm.building_form, \"building_lymc\", $$v)},expression:\"building_form.building_lymc\"}},[_c('el-option',{attrs:{\"label\":\"第1栋,第2栋...第99栋\",\"value\":\"A\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"1号楼,2号楼...99号楼\",\"value\":\"B\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"1号仓,2号仓...99号仓\",\"value\":\"C\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"1号库,2号库...99号库\",\"value\":\"D\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"1号厂房,2号厂房...99号厂房\",\"value\":\"E\"}})],1)],1)],1)],1)],1),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.building_Table}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"序号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"building_code\",\"label\":\"楼宇编码\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"building_name\",\"label\":\"楼宇证件名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"building_alias_name\",\"label\":\"楼宇运营名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"floor_amount\",\"label\":\"楼层数量\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"capped\",\"label\":\"封顶日期\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"completion\",\"label\":\"竣工日期\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"presale_permit\",\"label\":\"预售许可证\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"building_permit\",\"label\":\"建筑许可证\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"building_area\",\"label\":\"建筑面积\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"usable_area\",\"label\":\"使用面积\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"remark\",\"label\":\"备注\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"m-t\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.building_submit('save')}}},[_vm._v(\"完成\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.building_submit('next')}}},[_vm._v(\"保存并下一步\")])],1)],1):_vm._e(),_vm._v(\" \"),(_vm.step === 2)?_c('div',[_c('el-form',{ref:\"floor_form\",attrs:{\"rules\":_vm.floor_rules,\"inline\":true,\"model\":_vm.floor_form}},[_c('h3',{staticClass:\"form_title\"},[_vm._v(\"配置楼层信息\")]),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"楼层数量：\"}},[_c('span',[_vm._v(_vm._s(_vm.building_form.floor_amount))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"开始房号：\",\"prop\":\"room_start\"}},[_c('el-input',{staticStyle:{\"width\":\"100px\"},nativeOn:{\"keyup\":function($event){_vm.onkeyupPlusInt($event)}},model:{value:(_vm.floor_form.room_start),callback:function ($$v) {_vm.$set(_vm.floor_form, \"room_start\", $$v)},expression:\"floor_form.room_start\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"结束房号：\",\"prop\":\"room_end\"}},[_c('el-input',{staticStyle:{\"width\":\"100px\"},nativeOn:{\"keyup\":function($event){_vm.onkeyupPlusInt($event)}},model:{value:(_vm.floor_form.room_end),callback:function ($$v) {_vm.$set(_vm.floor_form, \"room_end\", $$v)},expression:\"floor_form.room_end\"}})],1)],1),_vm._v(\" \"),_c('el-col',{staticClass:\"text-right\",attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"编码格式：\"}},[_c('el-select',{model:{value:(_vm.floor_form.floor_bmgs),callback:function ($$v) {_vm.$set(_vm.floor_form, \"floor_bmgs\", $$v)},expression:\"floor_form.floor_bmgs\"}},[_c('el-option',{attrs:{\"label\":\"F-1,F-2...F-9\",\"value\":\"A\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"001,002...009\",\"value\":\"B\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"楼层名称：\"}},[_c('el-select',{model:{value:(_vm.floor_form.floor_lcmc),callback:function ($$v) {_vm.$set(_vm.floor_form, \"floor_lcmc\", $$v)},expression:\"floor_form.floor_lcmc\"}},[_c('el-option',{attrs:{\"label\":\"第1层,第2层...第99层\",\"value\":\"A\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"1楼,2楼...99楼\",\"value\":\"B\"}})],1)],1)],1)],1)],1),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.floor_Table}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"序号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"building_code\",\"label\":\"楼宇编码\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"floor_code\",\"label\":\"楼层编码\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"floor_name\",\"label\":\"楼层名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"room_start\",\"label\":\"开始房号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"room_end\",\"label\":\"结束房号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"remark\",\"label\":\"备注\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"m-t\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.floor_submit('save')}}},[_vm._v(\"完成\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.floor_submit('next')}}},[_vm._v(\"保存并下一步\")])],1)],1):_vm._e(),_vm._v(\" \"),(_vm.step === 3)?_c('div',[_c('el-form',{ref:\"room_form\",attrs:{\"rules\":_vm.room_rules,\"inline\":true,\"model\":_vm.room_form}},[_c('h3',{staticClass:\"form_title\"},[_vm._v(\"配置房间信息\")]),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"选择楼宇：\"}},[_c('el-select',{on:{\"change\":function($event){_vm.GetFloorsTree(_vm.room_form.buildingIds)}},model:{value:(_vm.room_form.buildingIds),callback:function ($$v) {_vm.$set(_vm.room_form, \"buildingIds\", $$v)},expression:\"room_form.buildingIds\"}},_vm._l((_vm.buildingId),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"选择楼层：\"}},[_c('el-select',{model:{value:(_vm.room_form.floorIds),callback:function ($$v) {_vm.$set(_vm.room_form, \"floorIds\", $$v)},expression:\"room_form.floorIds\"}},_vm._l((_vm.floorId),function(item,index){return _c('el-option',{key:item.id,attrs:{\"label\":item.text,\"value\":index+1}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"建筑面积：\",\"prop\":\"built_area\"}},[_c('el-input',{staticStyle:{\"width\":\"100px\"},nativeOn:{\"keyup\":function($event){_vm.onkeyupPrice($event)}},model:{value:(_vm.room_form.built_area),callback:function ($$v) {_vm.$set(_vm.room_form, \"built_area\", $$v)},expression:\"room_form.built_area\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"使用面积：\",\"prop\":\"usable_area\"}},[_c('el-input',{staticStyle:{\"width\":\"100px\"},nativeOn:{\"keyup\":function($event){_vm.onkeyupPrice($event)}},model:{value:(_vm.room_form.usable_area),callback:function ($$v) {_vm.$set(_vm.room_form, \"usable_area\", $$v)},expression:\"room_form.usable_area\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"房间功能：\",\"prop\":\"room_feature\"}},[_c('el-select',{model:{value:(_vm.room_form.room_feature),callback:function ($$v) {_vm.$set(_vm.room_form, \"room_feature\", $$v)},expression:\"room_form.room_feature\"}},_vm._l((_vm.estate_roomfunc),function(item){return _c('el-option',{key:item.value_id,attrs:{\"label\":item.value_name,\"value\":item.value_id}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"指导单价(元/平米)：\",\"prop\":\"guide_price\"}},[_c('el-input',{staticStyle:{\"width\":\"100px\"},nativeOn:{\"keyup\":function($event){_vm.onkeyupPrice($event)}},model:{value:(_vm.room_form.guide_price),callback:function ($$v) {_vm.$set(_vm.room_form, \"guide_price\", $$v)},expression:\"room_form.guide_price\"}})],1)],1)],1)],1),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.room_Table}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"序号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"floor_num\",\"label\":\"楼层数\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"room_code\",\"label\":\"房间编码\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"room_name\",\"label\":\"房间名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"built_area\",\"label\":\"建筑面积(平米)\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"usable_area\",\"label\":\"使用面积(平米)\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"room_feature\",\"label\":\"房间功能\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"guide_price\",\"label\":\"指导单价(元/平米)\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"remark\",\"label\":\"备注\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"m-t\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.room_submit()}}},[_vm._v(\"完成向导\")])],1)],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-2b17a127\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/pages/Estate/Guide.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/.3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2b17a127\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/.13.7.1@vue-loader/lib/selector?type=styles&index=0!./Guide.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/.13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/.13.7.1@vue-loader/lib/selector?type=script&index=0!./Guide.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/.13.7.1@vue-loader/lib/selector?type=script&index=0!./Guide.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/.13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2b17a127\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/.13.7.1@vue-loader/lib/selector?type=template&index=0!./Guide.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2b17a127\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Estate/Guide.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}