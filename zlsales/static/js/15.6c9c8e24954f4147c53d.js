webpackJsonp([15],{P7ry:function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={data:function(){return{loginForm:{account:"",password:""},rules:{account:[{validator:function(o,t,e){if(!t)return e(new Error("请输入账号"));e()},trigger:"blur"}],password:[{validator:function(o,t,e){return t?t.length<6?e(new Error("密码位数应不少于6位")):void e():e(new Error("请输入密码"))},trigger:"blur"}]},loading:!0}},mounted:function(){this.loading=!1},methods:{submitForm:function(o){var t=this;this.$refs[o].validate(function(o){if(!o)return!1;t.$https.post("/api/Account/login",{user_account:t.loginForm.account,user_pwd:t.loginForm.password}).then(function(o){0==o.data.code?(console.log(o.data),localStorage.setItem("UserAccount",t.loginForm.account),t.$router.replace("/Index")):t.$message({type:"error",showClose:!0,message:o.data.message})}).catch(function(o){console.log("登录请求失败",o)})})},resetForm:function(o){this.$refs[o].resetFields()}}},n={render:function(){var o=this,t=o.$createElement,e=o._self._c||t;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:o.loading,expression:"loading"}]},[e("div",{staticClass:"login-form"},[e("h2",[o._v("用户登录")]),o._v(" "),e("el-form",{ref:"loginForm",attrs:{"label-position":"right",model:o.loginForm,rules:o.rules,"status-icon":""},nativeOn:{keyup:function(t){if(!("button"in t)&&o._k(t.keyCode,"enter",13,t.key,"Enter"))return null;o.submitForm("loginForm")}}},[e("el-form-item",{attrs:{prop:"account"}},[e("el-input",{attrs:{placeholder:"请输入账号"},model:{value:o.loginForm.account,callback:function(t){o.$set(o.loginForm,"account",t)},expression:"loginForm.account"}})],1),o._v(" "),e("el-form-item",{attrs:{prop:"password"}},[e("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:o.loginForm.password,callback:function(t){o.$set(o.loginForm,"password",t)},expression:"loginForm.password"}})],1),o._v(" "),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:function(t){o.submitForm("loginForm")}}},[o._v("立即登录")]),o._v(" "),e("el-button",{on:{click:function(t){o.resetForm("loginForm")}}},[o._v("重置")])],1)],1)],1)])},staticRenderFns:[]};var i=e("Aizv")(r,n,!1,function(o){e("Z3lM")},"data-v-66114f4b",null);t.default=i.exports},Z3lM:function(o,t){}});
//# sourceMappingURL=15.6c9c8e24954f4147c53d.js.map